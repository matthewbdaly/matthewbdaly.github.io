{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2011/05/29/hacked/","result":{"data":{"site":{"siteMetadata":{"title":"Matthew Daly","siteUrl":"https://matthewdaly.co.uk"}},"mdx":{"id":"d539a0eb-633c-5431-92e6-12b5f07866d9","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"date\": \"2011-05-29 14:53:13\",\n  \"layout\": \"post\",\n  \"slug\": \"hacked\",\n  \"status\": \"publish\",\n  \"title\": \"Hacked!\",\n  \"wordpress_id\": \"635\",\n  \"categories\": [\"server\"],\n  \"comments\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Had a rather unfortunate incident last month - someone hacked into my Pogoplug mail server, and managed to get their mitts on my .fetchmailrc, which had all the login details for several email accounts. They promptly began sending spam out using my Gmail account.\"), mdx(\"p\", null, \"Naturally this meant I spent ages running round like a headless chicken trying to lock them out - when I first noticed that they'd been sending emails directly from my mail server, I logged into it via SSH and shut it down, then changed the passwords on all my email accounts.\"), mdx(\"p\", null, \"Thinking logically, there were four services that I had forwarded ports to the server for - SSH, Apache, Postfix and Dovecot. Now, I was running SSH on a non-standard port, had disabled root access, and didn't allow password authentication (SSH keys only). Also, I had enabled DenyHosts, so I'm fairly confident SSH was not the point of entry.\"), mdx(\"p\", null, \"So that leaves either Apache, Postfix or Dovecot. I had noticed in the error logs a lot of characters prefixed with backslashes, and wondered if someone was trying some kind of shellcode injection, and to be safe I had added new iptables rules to blacklist the IP addresses responsible. I had done what I could to secure Apache, but I can't rule it out as the application that was compromised. I went through the server logs, but without finding anything - I'm guessing whoever was responsible deleted the appropriate entries in the log files. I couldn't be sure that the server could still be trusted, so I did a fresh install, and have disabled port forwarding on my router.\"), mdx(\"p\", null, \"This has certainly made me much more cautious and suspicious about security, which I guess can't be a bad thing. Even beforehand, I found it pretty scary to see the sheer number of script kiddies who will try to hack into any server on the Internet.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Had a rather unfortunate incident last month - someone hacked into my Pogoplug mail server, and managed to get their mitts on my .fetchmailrc, which had all the login details forâ€¦","frontmatter":{"title":"Hacked!","date":"29th May 2011 2:53 pm","isoDate":"2011-05-29T14:53:13+00:00","categories":["server"]},"fields":{"path":"/blog/2011/05/29/hacked/"}}},"pageContext":{"previous":{"fields":{"path":"/blog/2011/03/30/new-phone/"},"frontmatter":{"title":"New phone","date":"2011-03-30 20:34:26","layout":"post"}},"next":{"fields":{"path":"/blog/2011/10/24/linux-in-the-workplace/"},"frontmatter":{"title":"Linux in the workplace","date":"2011-10-24 22:18:12","layout":"post"}}}},"staticQueryHashes":["290055352","2909664151"]}