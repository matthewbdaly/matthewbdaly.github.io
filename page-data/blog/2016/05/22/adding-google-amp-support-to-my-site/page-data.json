{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2016/05/22/adding-google-amp-support-to-my-site/","result":{"data":{"site":{"siteMetadata":{"title":"Matthew Daly","siteUrl":"https://matthewdaly.co.uk"}},"mdx":{"id":"9bb6ad1f-0ce7-51e0-835c-4d4267a3cecc","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Adding Google AMP support to my site\",\n  \"layout\": \"post\",\n  \"date\": \"2016-05-22 23:29:34 +0100\",\n  \"categories\": [\"html\", \"amp\"],\n  \"comments\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"You may have heard of Google's \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.ampproject.org/\"\n  }, \"AMP Project\"), \", which allows you to create mobile-optimized pages using a subset of HTML. After seeing the sheer speed at which you can load an AMP page (practically instantaneous in many cases), I was eager to see if I could apply it to my own site.\"), mdx(\"p\", null, \"I still wanted to retain the existing functionality for my site, such as comments and search, so I elected not to rewrite the whole thing to make it AMP-compliant. Instead, I opted to create AMP versions of every blog post, and link to them from the original. This preserves the advantages of AMP since search engines will be able to discover it from the header of the original, while allowing those wanting a richer experience to view the original, where the comments are hosted. You can now view the AMP version of any post by appending \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"amp/\"), \" to its URL.\"), mdx(\"p\", null, \"The biggest problem was the images in the post body, as the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<img>\"), \" tag needs to be replaced by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<amp-img>\"), \" tag, which also requires an explicit height and width. I wound up amending the renderer for AMP pages to render an image tag as an empty string, since I have only ever used one image in the post body and I think I can live without them.\"), mdx(\"p\", null, \"It's also a bit of a pain styling it as it will be awkward to use Bootstrap. I've therefore opted to skip Bootstrap for now and write my own fairly basic theme for the AMP pages instead.\"), mdx(\"p\", null, \"It'll be interesting to see what effect having the AMP versions of the pages available will have on my site in terms of search results. It obviously takes some time before the page gets crawled, and until then the AMP version won't be served from the CDN used by AMP, so I really can't guess what effect it will have right now.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"You may have heard of Google's  AMP Project , which allows you to create mobile-optimized pages using a subset of HTML. After seeing the sheer speed at which you can load an AMPâ€¦","frontmatter":{"title":"Adding Google AMP support to my site","date":"22 May 2016","categories":["html","amp"]},"fields":{"path":"/blog/2016/05/22/adding-google-amp-support-to-my-site/"}}},"pageContext":{"previous":{"fields":{"path":"/blog/2016/05/14/broadcasting-events-with-laravel-and-socket-dot-io/"},"frontmatter":{"title":"Broadcasting events with Laravel and Socket.io","date":"2016-05-14 21:00:00 +0100","layout":"post"}},"next":{"fields":{"path":"/blog/2016/06/05/using-jenkins-pipelines/"},"frontmatter":{"title":"Using Jenkins pipelines","date":"2016-06-05 16:32:15 +0100","layout":"post"}}}},"staticQueryHashes":["2909664151"]}