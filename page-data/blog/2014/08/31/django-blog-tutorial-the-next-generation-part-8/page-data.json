{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2014/08/31/django-blog-tutorial-the-next-generation-part-8/","result":{"data":{"site":{"siteMetadata":{"title":"Matthew Daly","siteUrl":"https://matthewdaly.co.uk"}},"mdx":{"id":"119310db-bcf6-59bb-a308-7a36f1fd8ccf","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"Django Blog Tutorial - the Next Generation - Part 8\",\n  \"date\": \"2014-08-31 22:00:00 +0100\",\n  \"comments\": true,\n  \"categories\": [\"tdd\", \"python\", \"django\", \"django-blog-tutorial\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Hello again! In our final instalment, we'll wrap up our blog by:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Implementing a sitemap\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Optimising and tidying up the site\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Creating a Fabric task for easier deployment\")), mdx(\"p\", null, \"I'll also cover development tools and practices that can make using Django easier. But first there's a few housekeeping tasks that need doing...\"), mdx(\"p\", null, \"Don't forget to activate your virtualenv - you should know how to do this off by heart by now!\"), mdx(\"h1\", null, \"Upgrading Django\"), mdx(\"p\", null, \"At the time of writing, Django 1.7 is due any day now, but it's not out yet so I won't cover it. The biggest change is the addition of a built-in migration system, but switching from South to this is well-documented. When Django 1.7 comes out, it shouldn't be difficult to upgrade to it - because we have good test coverage, we shouldn't have much trouble catching errors.\"), mdx(\"p\", null, \"However, Django 1.6.6 was recently released, and we need to upgrade to it. Just enter the following command to upgrade:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip install Django --upgrade\\n\")), mdx(\"p\", null, \"Then add it to your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"requirements.txt\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip freeze > requirements.txt\\n\")), mdx(\"p\", null, \"Then commit your changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add requirements.txt\\n$ git commit -m 'Upgraded Django version'\\n\")), mdx(\"h1\", null, \"Implementing a sitemap\"), mdx(\"p\", null, \"Creating a sitemap for your blog is a good idea - it can be submitted to search engines, so that they can easily find your content. With Django, it's pretty straightforward too.\"), mdx(\"p\", null, \"First, let's create a test for our sitemap. Add the following code at the end of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tests.py\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"class SitemapTest(BaseAcceptanceTest):\\n    def test_sitemap(self):\\n        # Create a post\\n        post = PostFactory()\\n\\n        # Create a flat page\\n        page = FlatPageFactory()\\n\\n        # Get sitemap\\n        response = self.client.get('/sitemap.xml')\\n        self.assertEquals(response.status_code, 200)\\n\\n        # Check post is present in sitemap\\n        self.assertTrue('my-first-post' in response.content)\\n\\n        # Check page is present in sitemap\\n        self.assertTrue('/about/' in response.content)\\n\")), mdx(\"p\", null, \"Run it, and you should see the test fail:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ python manage.py test blogengine\\nCreating test database for alias 'default'...\\n...........................F\\n======================================================================\\nFAIL: test_sitemap (blogengine.tests.SitemapTest)\\n----------------------------------------------------------------------\\nTraceback (most recent call last):\\n  File \\\"/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py\\\", line 847, in test_sitemap\\n    self.assertEquals(response.status_code, 200)\\nAssertionError: 404 != 200\\n\\n----------------------------------------------------------------------\\nRan 28 tests in 6.873s\\n\\nFAILED (failures=1)\\nDestroying test database for alias 'default'...\\n\")), mdx(\"p\", null, \"Now, let's implement our sitemap. The sitemap application comes with Django, and needs to be activated in your settings file, under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"INSTALLED_APPS\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"    'django.contrib.sitemaps',\\n\")), mdx(\"p\", null, \"Next, let's think about what content we want to include in the sitemap. We want to index our flat pages and our blog posts, so our sitemap should reflect that. Create a new file at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"blogengine/sitemap.py\"), \" and enter the following text:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from django.contrib.sitemaps import Sitemap\\nfrom django.contrib.flatpages.models import FlatPage\\nfrom blogengine.models import Post\\n\\nclass PostSitemap(Sitemap):\\n    changefreq = \\\"always\\\"\\n    priority = 0.5\\n\\n    def items(self):\\n        return Post.objects.all()\\n\\n    def lastmod(self, obj):\\n        return obj.pub_date\\n\\n\\nclass FlatpageSitemap(Sitemap):\\n    changefreq = \\\"always\\\"\\n    priority = 0.5\\n\\n    def items(self):\\n        return FlatPage.objects.all()\\n\")), mdx(\"p\", null, \"We define two sitemaps, one for all the posts, and the other for all the flat pages. Note that this works in a very similar way to the syndication framework.\"), mdx(\"p\", null, \"Next, we amend our URLs. Add the following text after the existing imports in your URL file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from django.contrib.sitemaps.views import sitemap\\nfrom blogengine.sitemap import PostSitemap, FlatpageSitemap\\n\\n# Define sitemaps\\nsitemaps = {\\n    'posts': PostSitemap,\\n    'pages': FlatpageSitemap\\n}\\n\")), mdx(\"p\", null, \"Then add the following after the existing routes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"    # Sitemap\\n    url(r'^sitemap\\\\.xml$', sitemap, {'sitemaps': sitemaps},\\n            name='django.contrib.sitemaps.views.sitemap'),\\n\")), mdx(\"p\", null, \"Here we define what sitemaps we're going to use, and we define a URL for them. It's pretty straightforward to use.\"), mdx(\"p\", null, \"Let's run our tests:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ python manage.py test blogengine\\nCreating test database for alias 'default'...\\n............................\\n----------------------------------------------------------------------\\nRan 28 tests in 6.863s\\n\\nOK\\nDestroying test database for alias 'default'...\\n\")), mdx(\"p\", null, \"And done! Let's commit our changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add blogengine/ django_tutorial_blog_ng/settings.py\\n$ git commit -m 'Implemented a sitemap'\\n\")), mdx(\"h1\", null, \"Fixing test coverage\"), mdx(\"p\", null, \"Our blog is now feature-complete, but there are a few gaps in test coverage, so we'll fix them. If, like me, you're using Coveralls.io, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://coveralls.io/builds/1151177\"\n  }, \"you can easily see via their web interface where there are gaps in the coverage\"), \".\"), mdx(\"p\", null, \"Now, our gaps are all in our view file - if you \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://coveralls.io/files/280228813\"\n  }, \"take a look at my build\"), \", you can easily identify the gaps as they're marked in red.\"), mdx(\"p\", null, \"The first gap is where a tag does not exist. Interestingly, if we look at the code in the view, we can see that some of it is redundant:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"class TagPostsFeed(PostsFeed):\\n    def get_object(self, request, slug):\\n        return get_object_or_404(Tag, slug=slug)\\n\\n    def title(self, obj):\\n        return \\\"RSS feed - blog posts tagged  %s\\\" % obj.name\\n\\n    def link(self, obj):\\n        return obj.get_absolute_url()\\n\\n    def description(self, obj):\\n        return \\\"RSS feed - blog posts tagged %s\\\" % obj.name\\n\\n    def items(self, obj):\\n        try:\\n            tag = Tag.objects.get(slug=obj.slug)\\n            return tag.post_set.all()\\n        except Tag.DoesNotExist:\\n            return Post.objects.none()\\n\")), mdx(\"p\", null, \"Under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"items\"), \" function, we check to see if the tag exists. However, under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"get_object\"), \" we can see that if the object didn't exist, it would already have returned a 404 error. We can therefore safely amend \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"items\"), \" to not check, since that try statement will never fail:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"class TagPostsFeed(PostsFeed):\\n    def get_object(self, request, slug):\\n        return get_object_or_404(Tag, slug=slug)\\n\\n    def title(self, obj):\\n        return \\\"RSS feed - blog posts tagged  %s\\\" % obj.name\\n\\n    def link(self, obj):\\n        return obj.get_absolute_url()\\n\\n    def description(self, obj):\\n        return \\\"RSS feed - blog posts tagged %s\\\" % obj.name\\n\\n    def items(self, obj):\\n        tag = Tag.objects.get(slug=obj.slug)\\n        return tag.post_set.all()\\n\")), mdx(\"p\", null, \"The other two gaps are in our search view - we never get an empty result for the search in the following section:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"def getSearchResults(request):\\n    \\\"\\\"\\\"\\n    Search for a post by title or text\\n    \\\"\\\"\\\"\\n    # Get the query data\\n    query = request.GET.get('q', '')\\n    page = request.GET.get('page', 1)\\n\\n    # Query the database\\n    if query:\\n        results = Post.objects.filter(Q(text__icontains=query) | Q(title__icontains=query))\\n    else:\\n        results = None\\n\\n    # Add pagination\\n    pages = Paginator(results, 5)\\n\\n    # Get specified page\\n    try:\\n        returned_page = pages.page(page)\\n    except EmptyPage:\\n        returned_page = pages.page(pages.num_pages)\\n\\n    # Display the search results\\n    return render_to_response('blogengine/search_post_list.html',\\n                              {'page_obj': returned_page,\\n                               'object_list': returned_page.object_list,\\n                               'search': query})\\n\")), mdx(\"p\", null, \"So replace it with this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"def getSearchResults(request):\\n    \\\"\\\"\\\"\\n    Search for a post by title or text\\n    \\\"\\\"\\\"\\n    # Get the query data\\n    query = request.GET.get('q', '')\\n    page = request.GET.get('page', 1)\\n\\n    # Query the database\\n    results = Post.objects.filter(Q(text__icontains=query) | Q(title__icontains=query))\\n\\n    # Add pagination\\n    pages = Paginator(results, 5)\\n\\n    # Get specified page\\n    try:\\n        returned_page = pages.page(page)\\n    except EmptyPage:\\n        returned_page = pages.page(pages.num_pages)\\n\\n    # Display the search results\\n    return render_to_response('blogengine/search_post_list.html',\\n                              {'page_obj': returned_page,\\n                               'object_list': returned_page.object_list,\\n                               'search': query})\\n\")), mdx(\"p\", null, \"We don't need to check whether \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query\"), \" is defined because if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"q\"), \" is left blank, the value of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"query\"), \" will be an empty string, so we may as well pull out the redundant code.\"), mdx(\"p\", null, \"Finally, the other gap is for when a user tries to get an empty search page (eg, page two of something with five or less results). So let's add another test to our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SearchViewTest\"), \" class:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"    def test_failing_search(self):\\n        # Search for something that is not present\\n        response = self.client.get('/search?q=wibble')\\n        self.assertEquals(response.status_code, 200)\\n        self.assertTrue('No posts found' in response.content)\\n\\n        # Try to get nonexistent second page\\n        response = self.client.get('/search?q=wibble&page=2')\\n        self.assertEquals(response.status_code, 200)\\n        self.assertTrue('No posts found' in response.content)\\n\")), mdx(\"p\", null, \"Run our tests and check the coverage:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ coverage run --include=\\\"blogengine/*\\\" --omit=\\\"blogengine/migrations/*\\\" manage.py test blogengine\\n$ coverage html\\n\")), mdx(\"p\", null, \"If you open \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"htmlcov/index.html\"), \" in your browser, you should see that the test coverage is back up to 100%. With that done, it's time to commit again:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add blogengine/\\n$ git commit -m 'Fixed gaps in coverage'\\n\")), mdx(\"p\", null, \"Remember, it's not always possible to achieve 100% test coverage, and you shouldn't worry too much about it if it's not possible - \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://nedbatchelder.com/code/coverage/excluding.html\"\n  }, \"it's possible to ignore code\"), \" if necessary. However, it's a good idea to aim for 100%.\"), mdx(\"h1\", null, \"Using Fabric for deployment\"), mdx(\"p\", null, \"Next we'll cover using Fabric, a handy tool for deploying your changes (any pretty much any other task you want to automate). First, you need to install it:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip install Fabric\\n\")), mdx(\"p\", null, \"If you have any problems installing it, you should be able to resolve them via Google - most of them are likely to be absent libraries that Fabric depends upon. Once it's installed, add it to your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"requirements.tzt\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip freeze > requirements.txt\\n\")), mdx(\"p\", null, \"Next, create a file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fabfile.py\"), \" and enter the following text:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"#!/usr/bin/env python\\nfrom fabric.api import local\\n\\ndef deploy():\\n    \\\"\\\"\\\"\\n    Deploy the latest version to Heroku\\n    \\\"\\\"\\\"\\n    # Push changes to master\\n    local(\\\"git push origin master\\\")\\n\\n    # Push changes to Heroku\\n    local(\\\"git push heroku master\\\")\\n\\n    # Run migrations on Heroku\\n    local(\\\"heroku run python manage.py migrate\\\")\\n\")), mdx(\"p\", null, \"Now, all this file does is push our changes to Github (or wherever else your repository is hosted) and to Heroku, and runs your migrations. It's not a terribly big task anyway, but it's handy to have it in place. Let's commit our changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add fabfile.py requirements.txt\\n$ git commit -m 'Added Fabric task for deployment'\\n\")), mdx(\"p\", null, \"Then, let's try it out:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ fab deploy\\n\")), mdx(\"p\", null, \"There, wasn't that more convenient? Fabric is much more powerful than this simple demonstration indicates, and can run tasks on remote servers via SSH easily. I recommend you take a look at the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://www.fabfile.org/\"\n  }, \"documentation\"), \" to see what else you can do with it. If you're hosting your site on a VPS, you will probably find Fabric indispensable, as you will need to restart the application every time you push up a new revision.\"), mdx(\"h1\", null, \"Tidying up\"), mdx(\"p\", null, \"We want our blog application to play nicely with other Django apps. For instance, say you're working on a new site that includes a blogging engine. Wouldn't it make sense to just be able to drop in this blogging engine and have it work immediately? At the moment, some of our URL's are hard-coded, so we may have problems in doing so. Let's fix that.\"), mdx(\"p\", null, \"First we'll amend our tests. Add this at the top of the tests file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from django.core.urlresolvers import reverse\\n\")), mdx(\"p\", null, \"Next, replace every instance of this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"        response = self.client.get('/')\\n\")), mdx(\"p\", null, \"with this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"response = self.client.get(reverse('blogengine:index'))\\n\")), mdx(\"p\", null, \"Then, rewrite the calls to the search route. For instance, this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"        response = self.client.get('/search?q=first')\\n\")), mdx(\"p\", null, \"should become this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"        response = self.client.get(reverse('blogengine:search') + '?q=first')\\n\")), mdx(\"p\", null, \"I'll leave changing these as an exercise for the reader, but check the repository if you get stuck.\"), mdx(\"p\", null, \"Next, we need to assign a namespace to our app's routes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from django.conf.urls import patterns, include, url\\n\\nfrom django.contrib import admin\\nadmin.autodiscover()\\n\\nurlpatterns = patterns('',\\n    # Examples:\\n    # url(r'^$', 'django_tutorial_blog_ng.views.home', name='home'),\\n    # url(r'^blog/', include('blog.urls')),\\n\\n    url(r'^admin/', include(admin.site.urls)),\\n\\n    # Blog URLs\\n    url(r'', include('blogengine.urls', namespace=\\\"blogengine\\\")),\\n\\n    # Flat pages\\n    url(r'', include('django.contrib.flatpages.urls')),\\n)\\n\")), mdx(\"p\", null, \"We then assign names to our routes in the app's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"urls.py\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"from django.conf.urls import patterns, url\\nfrom django.views.generic import ListView, DetailView\\nfrom blogengine.models import Post, Category, Tag\\nfrom blogengine.views import CategoryListView, TagListView, PostsFeed, CategoryPostsFeed, TagPostsFeed, getSearchResults\\nfrom django.contrib.sitemaps.views import sitemap\\nfrom blogengine.sitemap import PostSitemap, FlatpageSitemap\\n\\n# Define sitemaps\\nsitemaps = {\\n    'posts': PostSitemap,\\n    'pages': FlatpageSitemap\\n}\\n\\nurlpatterns = patterns('',\\n    # Index\\n    url(r'^(?P<page>\\\\d+)?/?$', ListView.as_view(\\n        model=Post,\\n        paginate_by=5,\\n        ),\\n        name='index'\\n        ),\\n\\n    # Individual posts\\n    url(r'^(?P<pub_date__year>\\\\d{4})/(?P<pub_date__month>\\\\d{1,2})/(?P<slug>[a-zA-Z0-9-]+)/?$', DetailView.as_view(\\n        model=Post,\\n        ),\\n        name='post'\\n        ),\\n\\n    # Categories\\n    url(r'^category/(?P<slug>[a-zA-Z0-9-]+)/?$', CategoryListView.as_view(\\n        paginate_by=5,\\n        model=Category,\\n        ),\\n        name='category'\\n        ),\\n\\n\\n    # Tags\\n    url(r'^tag/(?P<slug>[a-zA-Z0-9-]+)/?$', TagListView.as_view(\\n        paginate_by=5,\\n        model=Tag,\\n        ),\\n        name='tag'\\n        ),\\n\\n    # Post RSS feed\\n    url(r'^feeds/posts/$', PostsFeed()),\\n\\n    # Category RSS feed\\n    url(r'^feeds/posts/category/(?P<slug>[a-zA-Z0-9-]+)/?$', CategoryPostsFeed()),\\n\\n    # Tag RSS feed\\n    url(r'^feeds/posts/tag/(?P<slug>[a-zA-Z0-9-]+)/?$', TagPostsFeed()),\\n\\n    # Search posts\\n    url(r'^search', getSearchResults, name='search'),\\n\\n    # Sitemap\\n    url(r'^sitemap\\\\.xml$', sitemap, {'sitemaps': sitemaps},\\n            name='django.contrib.sitemaps.views.sitemap'),\\n)\\n\")), mdx(\"p\", null, \"You also need to amend two of your templates:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-django\"\n  }, \"<!DOCTYPE html>\\n<!--[if lt IE 7]>      <html class=\\\"no-js lt-ie9 lt-ie8 lt-ie7\\\"> <![endif]-->\\n<!--[if IE 7]>         <html class=\\\"no-js lt-ie9 lt-ie8\\\"> <![endif]-->\\n<!--[if IE 8]>         <html class=\\\"no-js lt-ie9\\\"> <![endif]-->\\n<!--[if gt IE 8]><!--> <html class=\\\"no-js\\\"> <!--<![endif]-->\\n    <head>\\n        <meta charset=\\\"utf-8\\\">\\n        <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n        <title>{% block title %}My Django Blog{% endblock %}</title>\\n        <meta name=\\\"description\\\" content=\\\"\\\">\\n        <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n        <link rel=\\\"alternate\\\" type=\\\"application/rss+xml\\\" title=\\\"Blog posts\\\" href=\\\"/feeds/posts/\\\" >\\n\\n        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->\\n\\n        {% load staticfiles %}\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'bower_components/html5-boilerplate/css/normalize.css' %}\\\">\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'bower_components/html5-boilerplate/css/main.css' %}\\\">\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'bower_components/bootstrap/dist/css/bootstrap.min.css' %}\\\">\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'bower_components/bootstrap/dist/css/bootstrap-theme.min.css' %}\\\">\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'css/main.css' %}\\\">\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'css/code.css' %}\\\">\\n        <script src=\\\"{% static 'bower_components/html5-boilerplate/js/vendor/modernizr-2.6.2.min.js' %}\\\"></script>\\n    </head>\\n    <body>\\n        <!--[if lt IE 7]>\\n            <p class=\\\"browsehappy\\\">You are using an <strong>outdated</strong> browser. Please <a href=\\\"http://browsehappy.com/\\\">upgrade your browser</a> to improve your experience.</p>\\n        <![endif]-->\\n\\n        <!-- Add your site or application content here -->\\n\\n        <div id=\\\"fb-root\\\"></div>\\n        <script>(function(d, s, id) {\\n            var js, fjs = d.getElementsByTagName(s)[0];\\n            if (d.getElementById(id)) return;\\n                js = d.createElement(s); js.id = id;\\n                js.src = \\\"//connect.facebook.net/en_GB/all.js#xfbml=1\\\";\\n                fjs.parentNode.insertBefore(js, fjs);\\n            }(document, 'script', 'facebook-jssdk'));</script>\\n\\n        <div class=\\\"navbar navbar-static-top navbar-inverse\\\">\\n            <div class=\\\"container-fluid\\\">\\n                <div class=\\\"navbar-header\\\">\\n                    <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#header-nav\\\">\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </button>\\n                    <a class=\\\"navbar-brand\\\" href=\\\"{% url 'blogengine:index' %}\\\">My Django Blog</a>\\n                </div>\\n                <div class=\\\"collapse navbar-collapse\\\" id=\\\"header-nav\\\">\\n                    <ul class=\\\"nav navbar-nav\\\">\\n                        {% load flatpages %}\\n                        {% get_flatpages as flatpages %}\\n                        {% for flatpage in flatpages %}\\n                        <li><a href=\\\"{{ flatpage.url }}\\\">{{ flatpage.title }}</a></li>\\n                        {% endfor %}\\n                        <li><a href=\\\"/feeds/posts/\\\">RSS feed</a></li>\\n\\n                        <form action=\\\"/search\\\" method=\\\"GET\\\" class=\\\"navbar-form navbar-left\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <input type=\\\"text\\\" name=\\\"q\\\" placeholder=\\\"Search...\\\" class=\\\"form-control\\\"></input>\\n                            </div>\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-default\\\">Search</button>\\n                        </form>\\n                    </ul>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"container\\\">\\n            {% block header %}\\n                <div class=\\\"page-header\\\">\\n                    <h1>My Django Blog</h1>\\n                </div>\\n            {% endblock %}\\n\\n            <div class=\\\"row\\\">\\n                {% block content %}{% endblock %}\\n            </div>\\n        </div>\\n\\n        <div class=\\\"container footer\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"span12\\\">\\n                    <p>Copyright &copy; {% now \\\"Y\\\" %}</p>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <script src=\\\"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\\\"></script>\\n        <script>window.jQuery || document.write('<script src=\\\"{% static 'bower_components/html5-boilerplate/js/vendor/jquery-1.10.2.min.js' %}\\\"><\\\\/script>')</script>\\n        <script src=\\\"{% static 'bower_components/html5-boilerplate/js/plugins.js' %}\\\"></script>\\n        <script src=\\\"{% static 'bower_components/bootstrap/dist/js/bootstrap.min.js' %}\\\"></script>\\n\\n        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->\\n        <script>\\n            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=\\n            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;\\n            e=o.createElement(i);r=o.getElementsByTagName(i)[0];\\n            e.src='//www.google-analytics.com/analytics.js';\\n            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));\\n            ga('create','UA-XXXXX-X');ga('send','pageview');\\n        </script>\\n    </body>\\n</html>\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-django\"\n  }, \"{% extends \\\"blogengine/includes/base.html\\\" %}\\n\\n    {% load custom_markdown %}\\n\\n    {% block content %}\\n        {% if object_list %}\\n            {% for post in object_list %}\\n            <div class=\\\"post col-md-12\\\">\\n            <h1><a href=\\\"{{ post.get_absolute_url }}\\\">{{ post.title }}</a></h1>\\n            <h3>{{ post.pub_date }}</h3>\\n            {{ post.text|custom_markdown }}\\n            </div>\\n            {% if post.category %}\\n            <div class=\\\"col-md-12\\\">\\n            <a href=\\\"{{ post.category.get_absolute_url }}\\\"><span class=\\\"label label-primary\\\">{{ post.category.name }}</span></a>\\n            </div>\\n            {% endif %}\\n            {% if post.tags %}\\n            <div class=\\\"col-md-12\\\">\\n            {% for tag in post.tags.all %}\\n            <a href=\\\"{{ tag.get_absolute_url }}\\\"><span class=\\\"label label-success\\\">{{ tag.name }}</span></a>\\n            {% endfor %}\\n            </div>\\n            {% endif %}\\n            {% endfor %}\\n        {% else %}\\n            <p>No posts found</p>\\n        {% endif %}\\n\\n        <ul class=\\\"pager\\\">\\n        {% if page_obj.has_previous %}\\n        <li class=\\\"previous\\\"><a href=\\\"{% url 'blogengine:search' %}?page={{ page_obj.previous_page_number }}&q={{ search }}\\\">Previous Page</a></li>\\n        {% endif %}\\n        {% if page_obj.has_next %}\\n        <li class=\\\"next\\\"><a href=\\\"{% url 'blogengine:search' %}?page={{ page_obj.next_page_number }}&q={{ search }}\\\">Next Page</a></li>\\n        {% endif %}\\n        </ul>\\n\\n    {% endblock %}\\n\")), mdx(\"p\", null, \"Let's run our tests:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ python manage.py test blogengine/\\nCreating test database for alias 'default'...\\n.............................\\n----------------------------------------------------------------------\\nRan 29 tests in 10.456s\\n\\nOK\\nDestroying test database for alias 'default'...\\n\")), mdx(\"p\", null, \"And commit our changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add .\\n$ git commit -m 'Now use named routes'\\n\")), mdx(\"h1\", null, \"Debugging Django\"), mdx(\"p\", null, \"There are a number of handy ways to debug Django applications. One of the simplest is to use the Python debugger. To use it, just enter the following lines at the point you want to break at:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"import pdb\\npdb.set_trace()\\n\")), mdx(\"p\", null, \"Now, whenever that line of code is run, you'll be dropped into an interactive shell that lets you play around to find out what's going wrong. However, it doesn't offer auto-completion, so we'll install \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ipdb\"), \", which is an improved version:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip install ipdb\\n$ pip freeze > requirements.txt\\n\")), mdx(\"p\", null, \"Now you can use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ipdb\"), \" in much the same way as you would use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pdb\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"import ipdb\\nipdb.set_trace()\\n\")), mdx(\"p\", null, \"Now, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ipdb\"), \" is very useful, but it isn't much help for profiling your application. For that you need the Django Debug Toolbar. Run the following commands:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip install django-debug-toolbar\\n$ pip freeze > requirements.txt\\n\")), mdx(\"p\", null, \"Then add the following line to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"INSTALLED_APPS\"), \" in your settings file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"    'debug_toolbar',\\n\")), mdx(\"p\", null, \"Then, try running the development server, and you'll see a toolbar on the right-hand side of the screen that allows you to view some useful data about your page. For instance, you'll notice a field called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQL\"), \" - this contains details of the queries carried out when building the page. To actually see the queries carried out, you'll want to disable caching in your settings file by commenting out all the constants that start with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CACHE\"), \".\"), mdx(\"p\", null, \"We won't go into using the toolbar to optimise queries, but using this, you can easily see what queries are being executed on a specific page, how long they take, and the values they return. Sometimes, you may need to optimise a slow query - in this case, Django allows you to drop down to writing raw SQL if necessary.\"), mdx(\"p\", null, \"Note that if you're running Django in production, you should set \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DEBUG\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"False\"), \" as otherwise it gives rather too much information to potential attackers, and with Django Debug Toolbar installed, that's even more important.\"), mdx(\"p\", null, \"Please also note that when you disable debug mode, Django no longer handles static files automatically, so you'll need to run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"python manage.py collectstatic\"), \" and commit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"staticfiles\"), \" directory.\"), mdx(\"p\", null, \"Once you've disabled debug mode, collected the static files, and re-enables caching, you can commit your changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add .\\n$ git commit -m 'Installed debugging tools'\\n\")), mdx(\"h1\", null, \"Optimising static files\"), mdx(\"p\", null, \"We want our blog to get the best SEO results it can, so making it fast is essential. One of the simplest things you can do is to concatenate and minify static assets such as CSS and JavaScript. There are numerous ways to do this, but I generally use Grunt. Let's set up a Grunt config to concatenate and minify our CSS and JavaScript.\"), mdx(\"p\", null, \"You'll need to have Node.js installed on your development machine for this. Then, you need to install the Grunt command-line interface:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ sudo npm install -g grunt-cli\\n\")), mdx(\"p\", null, \"With that done, we need to create a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" file. You can create one using the command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm init\"), \". Here's mine:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"name\\\": \\\"django_tutorial_blog_ng\\\",\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\\"description\\\": \\\"Django Tutorial Blog NG =======================\\\",\\n  \\\"main\\\": \\\"index.js\\\",\\n  \\\"scripts\\\": {\\n    \\\"test\\\": \\\"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\\\"\\n  },\\n  \\\"repository\\\": {\\n    \\\"type\\\": \\\"git\\\",\\n    \\\"url\\\": \\\"https://github.com/matthewbdaly/django_tutorial_blog_ng.git\\\"\\n  },\\n  \\\"author\\\": \\\"Matthew Daly <matthew@matthewdaly.co.uk> (http://matthewdaly.co.uk/)\\\",\\n  \\\"license\\\": \\\"ISC\\\",\\n  \\\"bugs\\\": {\\n    \\\"url\\\": \\\"https://github.com/matthewbdaly/django_tutorial_blog_ng/issues\\\"\\n  },\\n  \\\"homepage\\\": \\\"https://github.com/matthewbdaly/django_tutorial_blog_ng\\\"\\n}\\n\")), mdx(\"p\", null, \"Feel free to amend  it as you see fit.\"), mdx(\"p\", null, \"Next we install Grunt and the required plugins:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ npm install grunt grunt-contrib-cssmin grunt-contrib-concat grunt-contrib-uglify --save-dev\\n\")), mdx(\"p\", null, \"We now need to create a Gruntfile for our tasks:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"module.exports = function (grunt) {\\n    'use strict';\\n\\n    grunt.initConfig({\\n        concat: {\\n            dist: {\\n                src: [\\n                    'blogengine/static/bower_components/bootstrap/dist/css/bootstrap.css',\\n                    'blogengine/static/bower_components/bootstrap/dist/css/bootstrap-theme.css',\\n                    'blogengine/static/css/code.css',\\n                    'blogengine/static/css/main.css',\\n                ],\\n                dest: 'blogengine/static/css/style.css'\\n            }\\n        },\\n        uglify: {\\n            dist: {\\n                src: [\\n                    'blogengine/static/bower_components/jquery/jquery.js',\\n                    'blogengine/static/bower_components/bootstrap/dist/js/bootstrap.js'\\n                ],\\n                dest: 'blogengine/static/js/all.min.js'\\n            }\\n        },\\n        cssmin: {\\n            dist: {\\n                src: 'blogengine/static/css/style.css',\\n                dest: 'blogengine/static/css/style.min.css'\\n            }\\n        }\\n    });\\n\\n    grunt.loadNpmTasks('grunt-contrib-concat');\\n    grunt.loadNpmTasks('grunt-contrib-uglify');\\n    grunt.loadNpmTasks('grunt-contrib-cssmin');\\n    grunt.registerTask('default', ['concat', 'uglify', 'cssmin']);\\n};\\n\")), mdx(\"p\", null, \"You'll also need to change the paths in your base HTML file to point to the minified versions:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-django\"\n  }, \"<!DOCTYPE html>\\n<!--[if lt IE 7]>      <html class=\\\"no-js lt-ie9 lt-ie8 lt-ie7\\\"> <![endif]-->\\n<!--[if IE 7]>         <html class=\\\"no-js lt-ie9 lt-ie8\\\"> <![endif]-->\\n<!--[if IE 8]>         <html class=\\\"no-js lt-ie9\\\"> <![endif]-->\\n<!--[if gt IE 8]><!--> <html class=\\\"no-js\\\"> <!--<![endif]-->\\n    <head>\\n        <meta charset=\\\"utf-8\\\">\\n        <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n        <title>{% block title %}My Django Blog{% endblock %}</title>\\n        <meta name=\\\"description\\\" content=\\\"\\\">\\n        <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n        <link rel=\\\"alternate\\\" type=\\\"application/rss+xml\\\" title=\\\"Blog posts\\\" href=\\\"/feeds/posts/\\\" >\\n\\n        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->\\n\\n        {% load staticfiles %}\\n        <link rel=\\\"stylesheet\\\" href=\\\"{% static 'css/style.min.css' %}\\\">\\n    </head>\\n    <body>\\n        <!--[if lt IE 7]>\\n            <p class=\\\"browsehappy\\\">You are using an <strong>outdated</strong> browser. Please <a href=\\\"http://browsehappy.com/\\\">upgrade your browser</a> to improve your experience.</p>\\n        <![endif]-->\\n\\n        <!-- Add your site or application content here -->\\n\\n        <div id=\\\"fb-root\\\"></div>\\n        <script>(function(d, s, id) {\\n            var js, fjs = d.getElementsByTagName(s)[0];\\n            if (d.getElementById(id)) return;\\n                js = d.createElement(s); js.id = id;\\n                js.src = \\\"//connect.facebook.net/en_GB/all.js#xfbml=1\\\";\\n                fjs.parentNode.insertBefore(js, fjs);\\n            }(document, 'script', 'facebook-jssdk'));</script>\\n\\n        <div class=\\\"navbar navbar-static-top navbar-inverse\\\">\\n            <div class=\\\"container-fluid\\\">\\n                <div class=\\\"navbar-header\\\">\\n                    <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#header-nav\\\">\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                        <span class=\\\"icon-bar\\\"></span>\\n                    </button>\\n                    <a class=\\\"navbar-brand\\\" href=\\\"{% url 'blogengine:index' %}\\\">My Django Blog</a>\\n                </div>\\n                <div class=\\\"collapse navbar-collapse\\\" id=\\\"header-nav\\\">\\n                    <ul class=\\\"nav navbar-nav\\\">\\n                        {% load flatpages %}\\n                        {% get_flatpages as flatpages %}\\n                        {% for flatpage in flatpages %}\\n                        <li><a href=\\\"{{ flatpage.url }}\\\">{{ flatpage.title }}</a></li>\\n                        {% endfor %}\\n                        <li><a href=\\\"/feeds/posts/\\\">RSS feed</a></li>\\n\\n                        <form action=\\\"/search\\\" method=\\\"GET\\\" class=\\\"navbar-form navbar-left\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <input type=\\\"text\\\" name=\\\"q\\\" placeholder=\\\"Search...\\\" class=\\\"form-control\\\"></input>\\n                            </div>\\n                            <button type=\\\"submit\\\" class=\\\"btn btn-default\\\">Search</button>\\n                        </form>\\n                    </ul>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"container\\\">\\n            {% block header %}\\n                <div class=\\\"page-header\\\">\\n                    <h1>My Django Blog</h1>\\n                </div>\\n            {% endblock %}\\n\\n            <div class=\\\"row\\\">\\n                {% block content %}{% endblock %}\\n            </div>\\n        </div>\\n\\n        <div class=\\\"container footer\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"span12\\\">\\n                    <p>Copyright &copy; {% now \\\"Y\\\" %}</p>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <script src=\\\"{% static 'js/all.min.js' %}\\\"></script>\\n\\n        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->\\n        <script>\\n            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=\\n            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;\\n            e=o.createElement(i);r=o.getElementsByTagName(i)[0];\\n            e.src='//www.google-analytics.com/analytics.js';\\n            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));\\n            ga('create','UA-XXXXX-X');ga('send','pageview');\\n        </script>\\n    </body>\\n</html>\\n\")), mdx(\"p\", null, \"Now, run the Grunt task:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ grunt\\n\")), mdx(\"p\", null, \"And collect the static files:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ python manage.py collectstatic\\n\")), mdx(\"p\", null, \"You'll also want to add your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \" folder to your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gitignore\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"venv/\\n*.pyc\\ndb.sqlite3\\nreports/\\nhtmlcov/\\n.coverage\\nnode_modules/\\n\")), mdx(\"p\", null, \"Then commit your changes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add .\\n$ git commit -m 'Optimised static assets'\\n\")), mdx(\"p\", null, \"Now, our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \" will cause a problem - it will mean that this app is mistakenly identified as a Node.js app. To prevent this, create the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".slugignore\"), \" file:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"package.json\\n\")), mdx(\"p\", null, \"Then commit your changes and push them up:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ git add .slugignore\\n$ git commit -m 'Added slugignore'\\n$ fab deploy\\n\")), mdx(\"p\", null, \"If you check, your site should now be loading the minified versions of the static files.\"), mdx(\"p\", null, \"That's our site done! As usual I've tagged the final commit with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lesson-8\"), \".\"), mdx(\"p\", null, \"Sadly, that's our final instalment over with! I hope you've enjoyed these tutorials, and I look forward to seeing what you create with them.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Hello again! In our final instalment, we'll wrap up our blog by: Implementing a sitemap Optimising and tidying up the site Creating a Fabric task for easier deployment I'll also…","frontmatter":{"title":"Django Blog Tutorial - the Next Generation - Part 8","date":"31 August 2014","categories":["tdd","python","django","django-blog-tutorial"]},"fields":{"path":"/blog/2014/08/31/django-blog-tutorial-the-next-generation-part-8/"}}},"pageContext":{"previous":{"fields":{"path":"/blog/2014/08/25/django-blog-tutorial-the-next-generation-part-7/"},"frontmatter":{"title":"Django Blog Tutorial - the Next Generation - Part 7","date":"2014-08-25 17:15:01 +0100","layout":"post"}},"next":{"fields":{"path":"/blog/2014/09/28/changing-date-format-from-dd-slash-mm-slash-yyyy-to-yyyy-mm-dd-in-vim/"},"frontmatter":{"title":"Changing date format from DD/MM/YYYY to YYYY-MM-DD in Vim","date":"2014-09-28 19:53:34 +0100","layout":"post"}}}},"staticQueryHashes":["2909664151"]}