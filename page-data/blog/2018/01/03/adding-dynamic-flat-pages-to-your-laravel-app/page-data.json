{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/2018/01/03/adding-dynamic-flat-pages-to-your-laravel-app/","result":{"data":{"site":{"siteMetadata":{"title":"Matthew Daly","siteUrl":"https://matthewdaly.co.uk"}},"mdx":{"id":"028511c9-405f-5909-87bc-af1c94513565","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Adding dynamic flat pages to your Laravel app\",\n  \"date\": \"2018-01-03 11:49:11 +0000\",\n  \"layout\": \"post\",\n  \"categories\": [\"php\", \"laravel\", \"flatpages\"],\n  \"comments\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Most web apps have at least some need for some additional flat pages, for purposes such as:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Terms and conditions\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Cookie/privacy policy\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"FAQ\")), mdx(\"p\", null, \"You can of course hard-code this content in a view file, but if this content is likely to change often it may be useful to give the site owners the capability to manage this themselves.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/matthewbdaly/laravel-flatpages\"\n  }, \"Laravel Flatpages\"), \" is a package I wrote that adds a flatpage model, controller and view to your application. It's loosely inspired by Django's flatpages app. Using it, you can quickly and easily build a very simple brochure-style CMS. Each page contains fields for the title, content, slug, and an optional template field that specifies which view to use.\"), mdx(\"p\", null, \"Note that it doesn't include any kind of admin functionality, so you'll need to add this yourself or find a package for it. It uses my \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://github.com/matthewbdaly/laravel-repositories\"\n  }, \"repositories package\"), \" to access the database, and this has caching built in, so when you create, update or delete a flatpage, you should either resolve \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Matthewbdaly\\\\LaravelFlatpages\\\\Contracts\\\\Repositories\\\\Flatpage\"), \" and use the methods on that to make the changes (in which case the appropriate caches should be flushed automatically), or flush the cache. It also requires a cache backend that supports tags, such as Memcached or Redis.\"), mdx(\"p\", null, \"It does not include routing in the package itself because I couldn't find a way to guarantee that it would always be the last route, so instead you should put this in your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"routes/web.php\"), \" and make sure it's always the last route:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\"\n  }, \"Route::get('{path}', '\\\\Matthewbdaly\\\\LaravelFlatpages\\\\Http\\\\Controllers\\\\FlatpageController@page');\\n\")), mdx(\"p\", null, \"Otherwise you could wind up with problems. The reason for that is that it has to check the path against the slugs of the flat pages in the database, and if it doesn't find any it raises a 404.\"), mdx(\"p\", null, \"Or, if you prefer, you can use the middleware at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Matthewbdaly\\\\LaravelFlatpages\\\\Http\\\\Middleware\\\\FlatpageMiddleware\"), \", which may be more convenient in many case. This should be added as the last global middleware in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app\\\\Http\\\\Kernel.php\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Most web apps have at least some need for some additional flat pages, for purposes such as: Terms and conditions Cookie/privacy policy FAQ You can of course hard-code this contentâ€¦","frontmatter":{"title":"Adding dynamic flat pages to your Laravel app","date":"03 January 2018","categories":["php","laravel","flatpages"]},"fields":{"path":"/blog/2018/01/03/adding-dynamic-flat-pages-to-your-laravel-app/"}}},"pageContext":{"previous":{"fields":{"path":"/blog/2018/01/02/a-laravel-package-boilerplate/"},"frontmatter":{"title":"A Laravel package boilerplate","date":"2018-01-02 12:12:15 +0000","layout":"post"}},"next":{"fields":{"path":"/blog/2018/01/07/more-tricks-for-speeding-up-your-laravel-test-suite/"},"frontmatter":{"title":"More tricks for speeding up your Laravel test suite","date":"2018-01-07 16:32:03 +0000","layout":"post"}}}},"staticQueryHashes":["290055352","2909664151"]}