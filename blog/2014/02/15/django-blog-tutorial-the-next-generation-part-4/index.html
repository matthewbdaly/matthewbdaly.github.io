<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta http-equiv="Content-Security-Policy" content="base-uri &#x27;self&#x27;; default-src &#x27;self&#x27; *.google-analytics.com disqus.com *.disqus.com *.disquscdn.com getform.io; script-src &#x27;self&#x27; localhost:* *.addthis.com *.google-analytics.com *.googletagmanager.com *.disquscdn.com *.disqus.com disqus.com *.addthisedge.com graph.facebook.com &#x27;unsafe-inline&#x27; &#x27;unsafe-eval&#x27;; style-src &#x27;self&#x27; fonts.googleapis.com *.addthis.com google-analytics.com *.disquscdn.com *.disqus.com &#x27;unsafe-inline&#x27;; object-src &#x27;none&#x27;; form-action &#x27;self&#x27; getform.io; font-src &#x27;self&#x27; data: fonts.google-apis.com fonts.gstatic.com; connect-src &#x27;self&#x27; ws://localhost:* *.google-analytics.com stats.g.doubleclick.net; img-src &#x27;self&#x27; *.google-analytics.com *.disquscdn.com *.disqus.com stats.g.doubleclick.net; child-src &#x27;self&#x27;; frame-src disqus.com *.addthis.com;"/><meta name="generator" content="Gatsby 4.20.0"/><meta data-react-helmet="true" name="description" content="Hello again! As promised, in this instalment we&#x27;ll implement categories and tags, as well as an RSS feed. As usual, we need to switch into our virtualenv: Categories It&#x27;s worth…"/><meta data-react-helmet="true" property="og:title" content="Django blog tutorial - the next generation - part 4"/><meta data-react-helmet="true" property="og:description" content="Hello again! As promised, in this instalment we&#x27;ll implement categories and tags, as well as an RSS feed. As usual, we need to switch into our virtualenv: Categories It&#x27;s worth…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="mattbd"/><meta data-react-helmet="true" name="twitter:title" content="Django blog tutorial - the next generation - part 4"/><meta data-react-helmet="true" name="twitter:description" content="Hello again! As promised, in this instalment we&#x27;ll implement categories and tags, as well as an RSS feed. As usual, we need to switch into our virtualenv: Categories It&#x27;s worth…"/><meta name="theme-color" content="#3b82f6"/><style data-href="/styles.882683318a97a3184811.css" data-identity="gatsby-global-css">/* ! tailwindcss v3.1.8 | MIT License | https://tailwindcss.com */*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-both{clear:both}.m-0{margin:0}.mx-auto{margin-left:auto;margin-right:auto}.my-8{margin-bottom:2rem;margin-top:2rem}.my-4{margin-bottom:1rem;margin-top:1rem}.my-2{margin-bottom:.5rem;margin-top:.5rem}.mx-0{margin-left:0;margin-right:0}.mt-2{margin-top:.5rem}.-mb-8{margin-bottom:-2rem}.-mb-4{margin-bottom:-1rem}.mt-8{margin-top:2rem}.mr-8{margin-right:2rem}.mt-16{margin-top:4rem}.mr-2{margin-right:.5rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.h-2{height:.5rem}.h-4{height:1rem}.min-h-screen{min-height:100vh}.w-full{width:100%}.w-1\/3{width:33.333333%}.w-2\/3{width:66.666667%}.w-1\/2{width:50%}.w-3\/4{width:75%}.w-1\/4{width:25%}.flex-grow{flex-grow:1}.resize-none{resize:none}.list-disc{list-style-type:disc}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.justify-center{justify-content:center}.space-y-32>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(8rem*var(--tw-space-y-reverse));margin-top:calc(8rem*(1 - var(--tw-space-y-reverse)))}.space-y-16>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(4rem*var(--tw-space-y-reverse));margin-top:calc(4rem*(1 - var(--tw-space-y-reverse)))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(2rem*var(--tw-space-y-reverse));margin-top:calc(2rem*(1 - var(--tw-space-y-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.divide-gray-800>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgb(31 41 55/var(--tw-divide-opacity))}.overflow-x-auto{overflow-x:auto}.overflow-x-scroll{overflow-x:scroll}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border-2{border-width:2px}.border-b-2{border-bottom-width:2px}.border-l-8{border-left-width:8px}.border-b-4{border-bottom-width:4px}.border-green-400{--tw-border-opacity:1;border-color:rgb(74 222 128/var(--tw-border-opacity))}.border-gray-500{--tw-border-opacity:1;border-color:rgb(107 114 128/var(--tw-border-opacity))}.border-gray-800{--tw-border-opacity:1;border-color:rgb(31 41 55/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246/var(--tw-border-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-red-200{--tw-bg-opacity:1;background-color:rgb(254 202 202/var(--tw-bg-opacity))}.bg-purple-200{--tw-bg-opacity:1;background-color:rgb(233 213 255/var(--tw-bg-opacity))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-gray-200{--tw-gradient-from:#e5e7eb;--tw-gradient-to:rgba(229,231,235,0);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.from-green-400{--tw-gradient-from:#4ade80;--tw-gradient-to:rgba(74,222,128,0);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.via-blue-500{--tw-gradient-to:rgba(59,130,246,0);--tw-gradient-stops:var(--tw-gradient-from),#3b82f6,var(--tw-gradient-to)}.to-gray-300{--tw-gradient-to:#d1d5db}.to-purple-500{--tw-gradient-to:#a855f7}.p-4{padding:1rem}.p-2{padding:.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-right:1rem}.pl-4,.px-4{padding-left:1rem}.pb-16{padding-bottom:4rem}.pt-4{padding-top:1rem}.pl-6{padding-left:1.5rem}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-sm{font-size:.875rem;line-height:1.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-xl{font-size:1.25rem}.text-lg,.text-xl{line-height:1.75rem}.text-lg{font-size:1.125rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.italic{font-style:italic}.leading-6{line-height:1.5rem}.text-gray-200{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246/var(--tw-text-opacity))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.shadow-lg,.shadow-sm{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,-webkit-text-decoration-color;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,-webkit-text-decoration-color;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-500{transition-duration:.5s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}code[class*=language-],pre[class*=language-]{display:block}.hover\:border-green-400:hover{--tw-border-opacity:1;border-color:rgb(74 222 128/var(--tw-border-opacity))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.hover\:bg-purple-800:hover{--tw-bg-opacity:1;background-color:rgb(107 33 168/var(--tw-bg-opacity))}.hover\:text-gray-200:hover{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.focus\:border-blue-300:focus{--tw-border-opacity:1;border-color:rgb(147 197 253/var(--tw-border-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}@media (prefers-color-scheme:dark){.dark\:divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgb(229 231 235/var(--tw-divide-opacity))}.dark\:border-black{--tw-border-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity))}.dark\:bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}.dark\:bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.dark\:bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.dark\:text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.dark\:text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246/var(--tw-text-opacity))}.dark\:text-gray-200{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.dark\:text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.dark\:hover\:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}}@media (min-width:768px){.md\:float-none{float:none}.md\:block{display:block}.md\:w-40{width:10rem}.md\:w-2\/3{width:66.666667%}.md\:w-1\/6{width:16.666667%}}@media (min-width:1024px){.lg\:float-right{float:right}.lg\:float-left{float:left}.lg\:mt-4{margin-top:1rem}.lg\:text-left{text-align:left}}.prism-code{-webkit-overflow-scrolling:touch;background-color:transparent;border-radius:.2em;float:left;font-size:1rem;margin-bottom:1rem;margin-top:1rem;overflow:initial;padding-bottom:1rem;padding-top:1rem;position:relative}.prism-code.title{border-radius:0 0 .2em .2em}pre.prism-code{float:left;min-width:100%;overflow:initial;padding:20px}.token{display:inline-block}li>code,p>code{word-wrap:break-word;background:#011627;border-radius:.2em;color:#d6deeb;padding:.2em;white-space:pre-wrap}.gatsby-highlight{-webkit-overflow-scrolling:touch;font-size:1rem;overflow:auto;position:relative}.gatsby-highlight::-webkit-scrollbar{display:none}.gatsby-highlight>code[class*=language-],.gatsby>pre[class*=language-]{-webkit-hyphens:none;hyphens:none;line-height:1.5;overflow-wrap:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-break:normal;word-spacing:normal}.gatsby-highlight .token-line{border-left:4px solid transparent;margin-left:-20px;margin-right:-20px}.line-number-style{display:inline-block;opacity:.3;padding-left:1em;padding-right:2em;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1.2em}.gatsby-highlight .token-line.highlight-line{background-color:#023751;border-left:4px solid #029bce}.gatsby-highlight .token-line.highlight-line .line-number-style{left:0;opacity:.5;width:calc(1.2em - 4px)}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="search" type="application/opensearchdescription+xml" title="Matthew Daly" href="/opensearch.xml"/><script data-gatsby="web-vitals-polyfill">
              !function(){var e,t,n,i,r={passive:!0,capture:!0},a=new Date,o=function(){i=[],t=-1,e=null,f(addEventListener)},c=function(i,r){e||(e=r,t=i,n=new Date,f(removeEventListener),u())},u=function(){if(t>=0&&t<n-a){var r={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};i.forEach((function(e){e(r)})),i=[]}},s=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){c(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,r),removeEventListener("pointercancel",i,r)};addEventListener("pointerup",n,r),addEventListener("pointercancel",i,r)}(t,e):c(t,e)}},f=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,s,r)}))},p="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(p=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0);o(),self.webVitals={firstInputPolyfill:function(e){i.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return p}}}();
            </script><script>window.dataLayer = window.dataLayer || [];window.dataLayer.push({"platform":"gatsby"}); (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl+'';f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer', 'G-68VZX216JS');</script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Django blog tutorial - the next generation - part 4 | Matthew Daly</title><link data-react-helmet="true" href="https://matthewdaly.co.uk/blog/2014/02/15/django-blog-tutorial-the-next-generation-part-4/" rel="canonical"/><link data-react-helmet="true" href="https://twitter.com/mattbd" rel="me"/><link data-react-helmet="true" href="https://github.com/matthewbdaly" rel="me"/><link data-react-helmet="true" href="mailto:matthew@matthewdaly.co.uk" rel="me"/><link data-react-helmet="true" href="/key.pub" rel="pgpkey"/><link data-react-helmet="true" href="https://webmention.io/matthewdaly.co.uk/xmlrpc" rel="pingback"/><link data-react-helmet="true" href="https://webmention.io/matthewdaly.co.uk/webmention" rel="webmention"/><link data-react-helmet="true" rel="authorization_endpoint" href="https://indieauth.com/auth"/><link data-react-helmet="true" rel="token_endpoint" href="https://tokens.indieauth.com/token"/><link data-react-helmet="true" rel="openid.delegate" href="https://matthewdaly.co.uk"/><link data-react-helmet="true" rel="openid.server" href="https://openid.indieauth.com/openid"/><link data-react-helmet="true" rel="alternate" type="application/rss+xml" title="Matthew Daly - feed" href="/rss.xml"/><link data-react-helmet="true" rel="alternate" type="application/atom+xml" title="Matthew Daly - feed" href="/atom.xml"/><link data-react-helmet="true" rel="alternate" type="application/feed+json" title="Matthew Daly - feed" href="/feed.json"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=53aa06cf17e4239d0dba6ffd09854e02" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=53aa06cf17e4239d0dba6ffd09854e02"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-68VZX216JS" height="0" width="0" style="display: none; visibility: hidden" aria-hidden="true"></iframe></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="flex flex-col min-h-screen pb-16 font-sans text-lg antialiased text-gray-800 bg-gray-50 dark:text-gray-100 dark:bg-gray-700 leading-6"><div class="w-full h-2 bg-gradient-to-r from-green-400 via-blue-500 to-purple-500"></div><nav class="w-full p-4 mx-auto lowercase md:w-2/3"><h1 class="block float-none py-4 text-4xl text-center lg:float-left lg:text-left"><a href="/">Matthew Daly</a></h1><ul class="py-2 text-center lg:float-right md:block lg:text-left"><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/blog/archives">Archives</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/about">About</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/uses">Uses</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/posts/1">Blog</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/blog/categories">Categories</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/search">Search</a></li></ul></nav><div class="w-full h-4 clear"></div><main class="flex-grow w-full p-4 mx-auto md:w-2/3"><article class="h-entry"><header><h2 class="py-4 text-2xl font-bold e-content p-name"><a class="u-url" href="https://matthewdaly.co.uk/blog/2014/02/15/django-blog-tutorial-the-next-generation-part-4/">Django blog tutorial - the next generation - part 4</a></h2><p class="my-4 text-lg font-semibold">Published by <a href="/" rel="author">Matthew Daly</a> at <!-- -->15th February 2014 5:45 pm</p><time class="hidden dt-published">2014-02-15T17:45:00+00:00</time></header><section><p class="py-2">Hello again! As promised, in this instalment we&#x27;ll implement categories and tags, as well as an RSS feed.</p><p class="py-2">As usual, we need to switch into our virtualenv:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ </span><span class="token builtin class-name" style="color:#FAC863">source</span><span class="token plain"> venv/bin/activate</span></div></pre></div></pre><h2 class="py-4 text-2xl font-bold">Categories</h2><p class="py-2">It&#x27;s worth taking a little time at this point to set out what we mean by categories and tags in this case, as the two can be very similar. In this case, we&#x27;ll use the following criteria:</p><ul class="py-2 pl-4"><li class="list-disc">A post can have only one category, or none, but a category can be applied to any number of posts</li><li class="list-disc">A post can have any number of tags, and a tag can be applied to any number of posts</li></ul><p class="py-2">If you&#x27;re not too familiar with relational database theory, the significance of this may not be apparent, so here&#x27;s a quick explanation. Because the categories are limited to one per post, the relationship between a post and a category is known as <em>one-to-many</em>. In other words, one post can only have one category, but one category can have many posts. You can therefore define the categories in one table in your database, and refer to them by their ID (the reference to the category in the post table is referred to as a <em>foreign key</em>).</p><p class="py-2">As usual, we will write a test first. Open up <code>blogengine/tests.py</code> and edit the line importing the <code>Post</code> model as follows:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Category</span></div></pre></div></pre><p class="py-2">Also, add the following method before <code>test_create_post</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Add attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Save it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check we can find it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        all_categories </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_categories</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        only_category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_categories</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This test checks that we can create categories. But categories aren&#x27;t much use unless we can actually apply them to our posts. So we need to edit our <code>Post</code> model as well, and to do so we need to have a test in place first. Edit the <code>test_create_post</code> method as follows:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Set the attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Save it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check we can find it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">hour</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">hour</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">minute</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">minute</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">second</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">second</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">username</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">email</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">What we&#x27;re doing here is adding a <code>category</code> attribute to the posts. This attribute contains a reference to a <code>Category</code> object.</p><p class="py-2">Now, we also want to test adding, editing, and deleting a category from the admin interface. Add this code to the <code>AdminTest</code> class:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check response code</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/category/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the new category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/category/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;description&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check added successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;added successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new category now in database</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        all_categories </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_categories</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_edit_category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Edit the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/category/1/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;description&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check changed successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;changed successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check category amended</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        all_categories </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_categories</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        only_category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_categories</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_delete_category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Delete the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/category/1/delete/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;post&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;yes&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check deleted successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;deleted successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check category deleted</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">        all_categories </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_categories</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span></div></pre></div></pre><p class="py-2">This is very similar to the prior code for the posts, and just checks we can create categories via the admin. We also need to check we can apply these categories to posts, and that they don&#x27;t break the existing tests:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check response code</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the new post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;title&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;text&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_0&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;2013-12-28&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_1&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;22:00:04&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;site&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;category&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check added successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;added successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post now in database</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_edit_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Edit the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/1/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;title&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;text&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my second blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_0&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;2013-12-28&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_1&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;22:00:04&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-second-post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;site&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;category&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">        follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check changed successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;changed successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post amended</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my second blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_delete_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">        </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">112</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">113</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">114</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">115</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">116</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">117</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">118</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">119</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">120</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">121</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">122</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">123</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">124</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">125</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Delete the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">126</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/1/delete/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">127</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;post&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;yes&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">128</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">129</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">130</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">131</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check deleted successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">132</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;deleted successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">133</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">134</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post deleted</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">135</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">136</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Here we basically take our existing post tests in the admin interface and add the category to them. Finally, we edit the <code>PostViewTest</code> class to include categories:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostViewTest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">BaseAcceptanceTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_index</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post title is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_post_page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Get the post URL</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">        post_url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_url</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post title is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now it&#x27;s time to run our tests:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">E</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">ERROR: blogengine.tests </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">unittest.loader.ModuleImportFailure</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">ImportError: Failed to </span><span class="token function" style="color:#79b6f2">import</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> module: blogengine.tests</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/loader.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">254</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _find_tests</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    module </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._get_module_from_name</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/loader.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_module_from_name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    __import__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">3</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">module</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    from blogengine.models </span><span class="token function" style="color:#79b6f2">import</span><span class="token plain"> Post, Category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">ImportError: cannot </span><span class="token function" style="color:#79b6f2">import</span><span class="token plain"> name Category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">1</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain">.000s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">errors</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">This is the expected result. We need to create our Category model. So let&#x27;s do that:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> models</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> User</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">sites</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your models here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SlugField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">40</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> unique</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">    author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Site</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> null</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/%s/%s/%s/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        ordering </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;-pub_date&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that we add <code>Category</code> before <code>Post</code> - this is because <code>Category</code> is a foreign key in <code>Post</code>, and must be defined in order to be used. Also, note that we add the <code>category</code> attribute as a <code>ForeignKey</code> field, like <code>User</code> and <code>Site</code>, indicating that it is an item in another table being references.</p><p class="py-2">We also allow for <code>category</code> to be blank or null, so the user does not have to apply a category if they don&#x27;t wish to.</p><p class="py-2">If we run our tests, they should still fail:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">EEFEEEEE</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.EE</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">ERROR: test_create_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">20</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">ERROR: test_create_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">37</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">ERROR: test_create_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">215</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain">ERROR: test_delete_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">192</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">112</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">113</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">114</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">115</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">116</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">117</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">118</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">119</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">120</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">121</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">122</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">123</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">124</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">125</span><span class="token plain">ERROR: test_delete_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">126</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">127</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">128</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">304</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">129</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">130</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">131</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">132</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">133</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">134</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">135</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">136</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">137</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">138</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">139</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">140</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">141</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">142</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">143</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">144</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">145</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">146</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">147</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">148</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">149</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">150</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">151</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">152</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">153</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">154</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">155</span><span class="token plain">ERROR: test_edit_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">156</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">157</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">158</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">165</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">159</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">160</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">161</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">162</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">163</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">164</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">165</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">166</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">167</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">168</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">169</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">170</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">171</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">172</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">173</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">174</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">175</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">176</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">177</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">178</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">179</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">180</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">181</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">182</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">183</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">184</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">185</span><span class="token plain">ERROR: test_edit_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">186</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">187</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">188</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">250</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">189</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">190</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">191</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">192</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">193</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">194</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">195</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">196</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">197</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">198</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">199</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">200</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">201</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">202</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">203</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">204</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">205</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">206</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">207</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">208</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">209</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">210</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">211</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">212</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">213</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">214</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">215</span><span class="token plain">ERROR: test_index </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">216</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">217</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">218</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">353</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_index</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">219</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">220</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">221</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">222</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">223</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">224</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">225</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">226</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">227</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">228</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">229</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">230</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">231</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">232</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">233</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">234</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">235</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">236</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">237</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">238</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">239</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">240</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">241</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">242</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">243</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">244</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">245</span><span class="token plain">ERROR: test_post_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">246</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">247</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">248</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">403</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_post_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">249</span><span class="token plain">    category.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">250</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">251</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">252</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">253</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">254</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">255</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">256</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">257</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">258</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">259</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">260</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">261</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">262</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">263</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">264</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">265</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">266</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">267</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">268</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">269</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">270</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">271</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">272</span><span class="token plain">OperationalError: no such table: blogengine_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">273</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">274</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">275</span><span class="token plain">FAIL: test_create_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">276</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">277</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">278</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">279</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">280</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">281</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">282</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">283</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">13</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token plain">.393s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">284</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">285</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#d7deea">errors</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">9</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">286</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">The category table hasn&#x27;t yet been created, so we need to use South to create and run the migrations:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py schemamigration --auto blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ python manage.py migrate</span></div></pre></div></pre><p class="py-2">If we then run our tests again, some of them will still fail:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F.F.F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">FAIL: test_create_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">FAIL: test_delete_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">201</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">FAIL: test_edit_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">175</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">13</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">4</span><span class="token plain">.047s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">That&#x27;s because we haven&#x27;t registered the categories in the admin. So, that&#x27;s our next job:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> models</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> admin</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> User</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostAdmin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ModelAdmin</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    prepopulated_fields </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token string" style="color:#8dc891">&quot;slug&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;title&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    exclude </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;author&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">save_model</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> form</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> change</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">user</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostAdmin</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now we try again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">13</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">4</span><span class="token plain">.092s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">It passes! Let&#x27;s do a quick sense check before committing. Run the server:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ python manage.py runserver</span></div></pre></div></pre><p class="py-2">If you visit the <a href="http://127.0.0.1:8000/admin/" class="border-b-2 border-green-400">admin</a>, you&#x27;ll see the text for category is <code>Categorys</code>, which is incorrect. We also don&#x27;t have a good representation of the category in the admin. Let&#x27;s fix that:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> models</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> User</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">sites</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your models here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        verbose_name_plural </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;categories&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">    text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SlugField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">40</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> unique</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">    author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">    site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Site</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> null</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/%s/%s/%s/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        ordering </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;-pub_date&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Let&#x27;s commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Implemented categories&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now, as yet our categories don&#x27;t actually do all that much. We would like to be able to:</p><ul class="py-2 pl-4"><li class="list-disc">List all posts under a category</li><li class="list-disc">Show the post category at the base of the post</li></ul><p class="py-2">So, let&#x27;s implement that. First, as usual, we implement tests first:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostViewTest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">BaseAcceptanceTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_index</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post title is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post category is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_post_page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Get the post URL</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">        post_url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_url</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post title is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post category is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">All we do here is assert that for both the post pages and the index, the text from the category name is shown in the response. We also need to check the category-specific route works. Add this method to <code>PostViewTest</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_category_page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Get the category URL</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        category_url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category_url</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the category name is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This is very similar to the previous tests, but fetches the absolute URL for the category, and ensures the category name and post content are shown. Now, let&#x27;s run our new tests:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.EFF</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">ERROR: test_category_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">494</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_category_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    category_url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> post.category.get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AttributeError: </span><span class="token string" style="color:#8dc891">&#x27;Category&#x27;</span><span class="token plain"> object has no attribute </span><span class="token string" style="color:#8dc891">&#x27;get_absolute_url&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">FAIL: test_index </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">391</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_index</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    self.assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post.category.name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response.content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">AssertionError: False is not </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">FAIL: test_post_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">446</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_post_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    self.assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post.category.name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response.content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">AssertionError: False is not </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">14</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.017s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">2</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#d7deea">errors</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Let&#x27;s take a look at why they failed. <code>test_category_page</code> failed because the <code>Category</code> object had no method <code>get_absolute_url</code>. So we need to implement one. To do so, we really need to add a slug field, like the posts already have. Ideally, we want this to be populated automatically, but with the option to create one manually. So, edit the models as follows:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> models</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> User</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">sites</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> slugify</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your models here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SlugField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">40</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> unique</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> null</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> slugify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">unicode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token builtin" style="color:#D8DEE9">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/category/%s/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        verbose_name_plural </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;categories&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">    pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">    text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SlugField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">40</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> unique</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">    author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Site</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> null</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/%s/%s/%s/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        ordering </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;-pub_date&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">We&#x27;re adding the <code>slug</code> attribute to the <code>Category</code> model here. However, we&#x27;re also overriding the <code>save</code> method to detect if the slug is set, and if not, to create a slug using the <code>slugify</code> function, and set it as the category&#x27;s slug. We also define an absolute URL for the category.</p><p class="py-2">Now, if you run the tests, they will fail because we haven&#x27;t made the changes to the database. So, we use South again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ python manage.py schemamigration --auto blogengine</span></div></pre></div></pre><p class="py-2">Then run the migration:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ python manage.py migrate</span></div></pre></div></pre><p class="py-2">Now, running our tests will show that the tables are in place, but we still have some work to do. The index and post pages don&#x27;t show our categories, so we&#x27;ll fix that. First, we&#x27;ll fix our post list:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-django" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">extends</span><span class="token django language-django"> </span><span class="token django language-django string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">load</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">block</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">content</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">for</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django"> </span><span class="token django language-django keyword" style="color:#c5a5c5">in</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object_list</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">post</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">title</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">pub_date</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">text</span><span class="token django language-django operator" style="color:#d7deea">|</span><span class="token django language-django filter function" style="color:#79b6f2">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">category</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">category</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">name</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endfor</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">if</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">page_obj</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">has_previous</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">page_obj</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">previous_page_number</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">Previous Page</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endif</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">if</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">page_obj</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">has_next</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">page_obj</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">next_page_number</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">Next Page</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endif</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endblock</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Next, we&#x27;ll take care of our post detail page:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-django" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">extends</span><span class="token django language-django"> </span><span class="token django language-django string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">load</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">block</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">content</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">post</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">title</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">pub_date</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">text</span><span class="token django language-django operator" style="color:#d7deea">|</span><span class="token django language-django filter function" style="color:#79b6f2">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">object</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">category</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">category</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">name</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h4</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">Comments</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h4</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">fb-comments</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">data-href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">http://</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">site</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">data-width</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">470</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">data-num-posts</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">10</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endblock</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that in both cases we include a link to the category URL.</p><p class="py-2">Now, we should only have one failing test outstanding - the category page. For this, generic views aren&#x27;t sufficient as we need to limit the queryset to only show those posts with a specific category. Fortunately, we can extend Django&#x27;s generic views to add this functionality. First, we edit our URLconfs:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> url</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> CategoryListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">urlpatterns </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;page&gt;\d+)?/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Individual posts</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;pub_date__year&gt;\d{4})/(?P&lt;pub_date__month&gt;\d{1,2})/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Categories</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note we import a new view from <code>blogengine.views</code> called <code>CategoryListView</code>. Next, we create that listview:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> render</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your views here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This is quite simple. We import the <code>ListView</code>, as well as our models. Then we extend <code>ListView</code> by getting the slug from the request, fetching the appropriate category, and returning only those posts that have that category. If the category does not exist, we return the empty <code>Post</code> object list. We haven&#x27;t had to set the template manually as it is inherited from <code>ListView</code>.</p><p class="py-2">If you run the tests, they should now pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">14</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.083s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">So let&#x27;s commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/ templates/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Categories are now shown&#x27;</span><span class="token plain"></span></div></pre></div></pre><h2 class="py-4 text-2xl font-bold">Tags</h2><p class="py-2">Tags are fairly similar to categories, but more complex. The relationship they have is called <em>many-to-many</em> - in other words, a tag can be applied to many posts, and one post can have many tags. This is more difficult to model with a relational database. The usual way to do so is to create an intermediate table between the posts and tags, to identify mappings between the two. Fortunately, Django makes this quite easy.</p><p class="py-2">Let&#x27;s write the tests for our tagging system. As with the categories, we&#x27;ll write the tests for creating and editing them first, and add in tests for them being visible later. First we&#x27;ll create a test for creating a new tag object:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Add attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Save it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check we can find it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        all_tags </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_tags</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        only_tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_tags</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Next, we&#x27;ll amend the test for creating a post to include tags:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Set the attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Save it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Add the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check we can find it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check attributes</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">hour</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">hour</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">minute</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">minute</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">second</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">second</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">username</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">email</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check tags</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">        post_tags </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_tags</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        only_post_tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> post_tags</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post_tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note the difference in how we apply the tags. Because a post can have more than one tag, we can&#x27;t just define <code>post.tag</code> in the same way. Instead, we have <code>post.tags</code>, which you can think of as a list, and we use the <code>add</code> method to add a new tag. Note also that the post must already exist before we can add a tag.</p><p class="py-2">We also need to create acceptance tests for creating, editing and deleting tags:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check response code</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/tag/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the new tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/tag/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;description&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check added successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;added successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new tag now in database</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        all_tags </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_tags</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_edit_tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Edit the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/tag/1/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;description&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check changed successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;changed successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check tag amended</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        all_tags </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_tags</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        only_tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_tags</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_delete_tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Delete the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/tag/1/delete/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;post&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;yes&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check deleted successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;deleted successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check tag deleted</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">        all_tags </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_tags</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">These tests are virtually identical to those for the <code>Category</code> objects, as we plan for our <code>Tag</code> objects to be very similar. Finally, we need to amend the acceptance tests for <code>Post</code> objects to include a tag:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_create_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check response code</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the new post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/add/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;title&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;text&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_0&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;2013-12-28&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_1&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;22:00:04&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;site&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;category&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;tags&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check added successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;added successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post now in database</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_edit_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">        </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Edit the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/1/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;title&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;text&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my second blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_0&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;2013-12-28&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date_1&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;22:00:04&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-second-post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;site&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;category&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;tags&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">        follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check changed successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;changed successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post amended</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my second blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_delete_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">112</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">113</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">114</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">115</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">116</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">117</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">118</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">119</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">120</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">121</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">122</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">123</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">124</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">125</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">126</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">127</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">128</span><span class="token plain">        </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">129</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">130</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">131</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">132</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">133</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">134</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">135</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">136</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">137</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">138</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">139</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">140</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">141</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">142</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">143</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">144</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">145</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">146</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Log in</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">147</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">login</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">username</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;bobsmith&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> password</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;password&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">148</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">149</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Delete the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">150</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/admin/blogengine/post/1/delete/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">151</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;post&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;yes&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">152</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> follow</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">153</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">154</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">155</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check deleted successfully</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">156</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;deleted successfully&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">157</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">158</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post deleted</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">159</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">160</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Here we&#x27;re just adding tags to our <code>Post</code> objects.</p><p class="py-2">Now it&#x27;s time to run our tests to make sure they fail as expected:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">E</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">ERROR: blogengine.tests </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">unittest.loader.ModuleImportFailure</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">ImportError: Failed to </span><span class="token function" style="color:#79b6f2">import</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> module: blogengine.tests</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/loader.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">254</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _find_tests</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    module </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._get_module_from_name</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/loader.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_module_from_name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    __import__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">3</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">module</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    from blogengine.models </span><span class="token function" style="color:#79b6f2">import</span><span class="token plain"> Post, Category, Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">ImportError: cannot </span><span class="token function" style="color:#79b6f2">import</span><span class="token plain"> name Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">1</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain">.000s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">errors</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">So here we can&#x27;t import our <code>Tag</code> model, because we haven&#x27;t created it. So, we&#x27;ll do that:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SlugField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">40</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> unique</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> null</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> slugify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">unicode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token builtin" style="color:#D8DEE9">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/tag/%s/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div></pre></div></pre><p class="py-2">Our <code>Tag</code> model is very much like our <code>Category</code> model, but we don&#x27;t need to change the <code>verbose_name_plural</code> value, and we amend the absolute URL to show it as a tag rather than a category.</p><p class="py-2">We also need to amend our <code>Post</code> model to include a <code>tags</code> field:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">CharField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DateTimeField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">TextField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SlugField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">max_length</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">40</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> unique</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">User</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Site</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ForeignKey</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> blank</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> null</span><span class="token operator" style="color:#d7deea">=</span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    tags </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ManyToManyField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;/%s/%s/%s/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">month</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">__unicode__</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        ordering </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;-pub_date&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that <code>tags</code> is a <code>ManyToManyField</code>, and we pass through the model we wish to use, much like we did with the categories. The difference is that one tag can be applied to many posts and a post can have many tags, so we need an intermediate database table to handle the relationship between the two. With Django&#x27;s ORM we can handle this quickly and easily.</p><p class="py-2">Run our tests and they should still fail:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">.EE.EF.EE.EE</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">ERROR: test_create_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">64</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">ERROR: test_create_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">41</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">ERROR: test_create_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">335</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">ERROR: test_delete_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">440</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">112</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">113</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">114</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">115</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">116</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">117</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">118</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">119</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">120</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">121</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">122</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">123</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">124</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">125</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">126</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">127</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">128</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">129</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">130</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">131</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">132</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">133</span><span class="token plain">ERROR: test_delete_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">134</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">135</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">136</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">306</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">137</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">138</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">139</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">140</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">141</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">142</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">143</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">144</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">145</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">146</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">147</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">148</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">149</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">150</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">151</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">152</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">153</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">154</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">155</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">156</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">157</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">158</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">159</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">160</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">161</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">162</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">163</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">164</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">165</span><span class="token plain">ERROR: test_edit_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">166</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">167</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">168</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">377</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">169</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">170</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">171</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">172</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">173</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">174</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">175</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">176</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">177</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">178</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">179</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">180</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">181</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">182</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">183</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">184</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">185</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">186</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">187</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">188</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">189</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">190</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">191</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">192</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">193</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">194</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">195</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">196</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">197</span><span class="token plain">ERROR: test_edit_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">198</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">199</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">200</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">279</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">201</span><span class="token plain">    tag.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">202</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/models.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">34</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">203</span><span class="token plain">    super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag, self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">204</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">545</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">205</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">force_update</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">force_update, </span><span class="token assign-left variable" style="color:#d7deea">update_fields</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">206</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">573</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> save_base</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">207</span><span class="token plain">    updated </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._save_table</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">raw, cls, force_insert, force_update, using, update_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">208</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">654</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _save_table</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">209</span><span class="token plain">    result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self._do_insert</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">cls._base_manager, using, fields, update_pk, raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">210</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">687</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _do_insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">211</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using, </span><span class="token assign-left variable" style="color:#d7deea">raw</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">raw</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">212</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">232</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _insert</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">213</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> insert_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self.model, objs, fields, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">214</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">1511</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> insert_query</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">215</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> query.get_compiler</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">using</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.execute_sql</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">return_id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">216</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/sql/compiler.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">898</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute_sql</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">217</span><span class="token plain">    cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">218</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">219</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">220</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/utils.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">99</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __exit__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">221</span><span class="token plain">    six.reraise</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">dj_exc_type, dj_exc_value, traceback</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">222</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/util.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">53</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">223</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sql, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">224</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">450</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> execute</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">225</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> Database.Cursor.execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self, query, params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">226</span><span class="token plain">OperationalError: no such table: blogengine_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">227</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">228</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">229</span><span class="token plain">FAIL: test_create_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">230</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">231</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">232</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">256</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">233</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">234</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">235</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">236</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">237</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">18</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3</span><span class="token plain">.981s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">238</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">239</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token plain">, </span><span class="token assign-left variable" style="color:#d7deea">errors</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">7</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">240</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Again, we can easily see why they failed - the <code>blogengine_tag</code> table is not in place. So let&#x27;s create and run our migrations to fix that:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py schemamigration --auto blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ python manage.py migrate</span></div></pre></div></pre><p class="py-2">Now, we run our tests again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_create_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">256</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">FAIL: test_delete_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">315</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">FAIL: test_edit_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">289</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">18</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.124s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">We can&#x27;t yet amend our tags in the admin, because we haven&#x27;t registered them. So we do that next:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> models</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> admin</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">auth</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> User</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostAdmin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ModelAdmin</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    prepopulated_fields </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token string" style="color:#8dc891">&quot;slug&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;title&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    exclude </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;author&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">save_model</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> form</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> change</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">user</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">admin</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostAdmin</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now, if we run our tests, they should pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">18</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.444s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Time to commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Implemented tags&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now, like with the categories beforehand, we want to be able to show the tags applied to a post at the base of it, and list all posts for a specific tag. So, first of all, we&#x27;ll amend our <code>PostViewTest</code> class to check for the tags:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostViewTest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">BaseAcceptanceTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_index</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post title is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post category is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post tag is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        post_tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_post_page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Get the post URL</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain">        post_url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> only_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">112</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_url</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">113</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">114</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">115</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post title is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">116</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">117</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">118</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post category is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">119</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">120</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">121</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post tag is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">122</span><span class="token plain">        post_tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">123</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">124</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">125</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">126</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">127</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">128</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">129</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">130</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">131</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">132</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">133</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">134</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">We create a tag near the top, and check for the text in the page (note that to avoid false positives from the categories, we set the name of the tags to something different). We do this on both the index and post pages.</p><p class="py-2">We also need to put a test in place for the tag-specific page:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_tag_page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Get the tag URL</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        tag_url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag_url</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the tag name is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post text is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the post date is in the response</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">year</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">strftime</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;%b&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">day</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the link is marked up properly</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;a href=&quot;http://127.0.0.1:8000/&quot;&gt;my first blog post&lt;/a&gt;&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Again, this is virtually identical to the category page, adjusted to allow for the fact that we need to get a specific tag. If we now run our tests, they should fail as expected:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">FFF</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_index </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">540</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_index</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_tag.name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response.content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: False is not </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">FAIL: test_post_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">607</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_post_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    self.assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">post_tag.name </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response.content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">AssertionError: False is not </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">FAIL: test_tag_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">714</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_tag_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">19</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.375s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">So, we need to implement the following things:</p><ul class="py-2 pl-4"><li class="list-disc">Show tags on the index page</li><li class="list-disc">Show tags on the post pages</li><li class="list-disc">Create a page listing the posts with a specific tag</li></ul><p class="py-2">As we have seen already with the categories, this is actually quite simple. First, we&#x27;ll sort out the tags on the index page:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-django" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">extends</span><span class="token django language-django"> </span><span class="token django language-django string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">load</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">block</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">content</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">for</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django"> </span><span class="token django language-django keyword" style="color:#c5a5c5">in</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object_list</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">post</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">title</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">pub_date</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">text</span><span class="token django language-django operator" style="color:#d7deea">|</span><span class="token django language-django filter function" style="color:#79b6f2">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">category</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">category</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">name</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">for</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">tag</span><span class="token django language-django"> </span><span class="token django language-django keyword" style="color:#c5a5c5">in</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">tags</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">all</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">tag</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">tag</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">name</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endfor</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endfor</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">if</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">page_obj</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">has_previous</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">page_obj</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">previous_page_number</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">Previous Page</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endif</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">if</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">page_obj</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">has_next</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">page_obj</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">next_page_number</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value" style="color:#8dc891">/</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">Next Page</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endif</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endblock</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This is quite simple. We retrieve all the tags with <code>post.tags.all</code> and loop through them. We then do basically the same for the individual post pages:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-django" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">extends</span><span class="token django language-django"> </span><span class="token django language-django string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">load</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">block</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">content</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">post</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">title</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h1</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">pub_date</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h3</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">text</span><span class="token django language-django operator" style="color:#d7deea">|</span><span class="token django language-django filter function" style="color:#79b6f2">custom_markdown</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">object</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">category</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">object</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">category</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">name</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">for</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">tag</span><span class="token django language-django"> </span><span class="token django language-django keyword" style="color:#c5a5c5">in</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">post</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">tags</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">all</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">tag</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token django language-django"> </span><span class="token django language-django variable" style="color:#d7deea">tag</span><span class="token django language-django punctuation" style="color:#8dc891">.</span><span class="token django language-django variable" style="color:#d7deea">name</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">a</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endfor</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">h4</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain">Comments</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">h4</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">fb-comments</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">data-href</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">http://</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">site</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">{{</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django variable" style="color:#d7deea">post</span><span class="token tag attr-value django language-django punctuation" style="color:#8dc891">.</span><span class="token tag attr-value django language-django variable" style="color:#d7deea">get_absolute_url</span><span class="token tag attr-value django language-django" style="color:#8dc891"> </span><span class="token tag attr-value django language-django delimiter punctuation" style="color:#8dc891">}}</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">data-width</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">470</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag" style="color:#fc929e"> </span><span class="token tag attr-name" style="color:#c5a5c5">data-num-posts</span><span class="token tag attr-value punctuation attr-equals" style="color:#8dc891">=</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag attr-value" style="color:#8dc891">10</span><span class="token tag attr-value punctuation" style="color:#8dc891">&quot;</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token tag punctuation" style="color:#8dc891">&lt;/</span><span class="token tag" style="color:#fc929e">div</span><span class="token tag punctuation" style="color:#8dc891">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">    </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">{%</span><span class="token django language-django"> </span><span class="token django language-django tag keyword" style="color:#c5a5c5">endblock</span><span class="token django language-django"> </span><span class="token django language-django delimiter punctuation" style="color:#8dc891">%}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain" style="display:inline-block">
</span></div></pre></div></pre><p class="py-2">This should resolve two of our outstanding tests:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_tag_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">714</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_tag_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">19</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.440s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">The final test is for the tag pages. As we saw with the categories, we can limit our querysets on specific pages. So we&#x27;ll extend the <code>ListView</code> generic view again to handle tags:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> render</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your views here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TagListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">            tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post_set</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that here, <code>Tag</code> objects have access to their assigned <code>Post</code> objects - we just use <code>post_set</code> to refer to them and get all of the posts associated with that tag. Next we&#x27;ll add the URLconfs:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> url</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">urlpatterns </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;page&gt;\d+)?/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Individual posts</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;pub_date__year&gt;\d{4})/(?P&lt;pub_date__month&gt;\d{1,2})/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Categories</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Tags</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^tag/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">We import the <code>Tag</code> model and the <code>TagListView</code> view, and use them to set up the tag page.</p><p class="py-2">If we now run our tests again, they should pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">19</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.473s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Well done! Time to commit:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> templates/ blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Tags are now shown&#x27;</span><span class="token plain"></span></div></pre></div></pre><h2 class="py-4 text-2xl font-bold">RSS Feed</h2><p class="py-2">For the final task today, we&#x27;ll implement an RSS feed for our posts. Django ships with a handy syndication framework that makes it easy to implement this kind of functionality.</p><p class="py-2">As usual, we&#x27;ll create some tests first. In this case, we won&#x27;t be adding any new models, so we don&#x27;t need to test them. Instead we can jump straight into creating acceptance tests for our feed. For now we&#x27;ll just create one type of feed: a feed of all the blog posts. In a later instalment we&#x27;ll add feeds for categories and tags.</p><p class="py-2">First of all, we&#x27;ll implement our test. Now, in order to test our feed, we need to have a solution in place for parsing an RSS feed. Django won&#x27;t do this natively, so we&#x27;ll install the <code>feedparser</code> Python module. Run the following commands:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ pip </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> feedparser</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ pip freeze </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> requirements.txt</span></div></pre></div></pre><p class="py-2">Once that&#x27;s done, feedparser should be available. You may wish to refer to the <a href="http://pythonhosted.org/feedparser/" class="border-b-2 border-green-400">documentation</a> as we go to help.</p><p class="py-2">Let&#x27;s write our test for the RSS feed. First, we import feedparser near the top of the file:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> feedparser</span></div></pre></div></pre><p class="py-2">Then we define a new class for our feed tests. Put this towards the end of the file - I put it just before the flat page tests:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">FeedTest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">BaseAcceptanceTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_all_post_feed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain"> </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create a post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Save it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Add the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check we can find it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/feeds/posts/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Parse the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        feed </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feedparser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check length</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post retrieved is the correct one</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        feed_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Run the tests and you&#x27;ll see something like this:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_all_post_feed </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.FeedTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">781</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_all_post_feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">20</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">6</span><span class="token plain">.743s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">We&#x27;re getting a 404 error because the post feed isn&#x27;t implemented. So let&#x27;s implement it. We&#x27;re going to use Django&#x27;s syndication framework, which will make it easy, but we need to enable it. Open up <code>django_tutorial_blog_ng/settings/py</code> and add the following under <code>INSTALLED_APPS</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&#x27;django.contrib.syndication&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Next, we need to enable the URLconf for this RSS feed. Open up <code>blogengine/urls.py and amend the import from </code>blogengine.views` near the top:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostsFeed</span></div></pre></div></pre><p class="py-2">Further down, add in the following code to define the URL for the feed:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Post RSS feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^feeds/posts/$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that we imported the PostsFeed class, but that hasn&#x27;t yet been defined. So we need to do that. First of all, add this line near the top:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">syndication</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Feed</span></div></pre></div></pre><p class="py-2">This imports the syndication views - yes, they&#x27;re another generic view! Our <code>PostsFeed</code> class is going to inherit from <code>Feed</code>. Next, we define the class:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-python" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Feed</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - posts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    link </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;feeds/posts/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">items</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;-pub_date&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">item_title</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">item_description</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span></div></pre></div></pre><p class="py-2">This is fairly straightforward. We define our title, link, and description for the feed inside the class definition. We define the <code>items</code> method which sets what items are returned by the RSS feed. We also define the <code>item_title</code> and <code>item_description</code> methods.</p><p class="py-2">Now, if we run our tests, they should pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">venv</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">Smith:django_tutorial_blog_ng matthewdaly$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">20</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.933s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Let&#x27;s commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/ django_tutorial_blog_ng/ requirements.txt</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;RSS feed implemented&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">And that&#x27;s enough for now. Don&#x27;t forget, you can get the code for this lesson by cloning the repository from <a href="https://github.com/matthewbdaly/django_tutorial_blog_ng" class="border-b-2 border-green-400">Github</a> and running <code>git checkout lesson-4</code> to switch to this lesson.</p><p class="py-2">Next time we&#x27;ll:</p><ul class="py-2 pl-4"><li class="list-disc">Implement a search system</li><li class="list-disc">Add feeds for categories and posts</li><li class="list-disc">Tidy up the user interface</li></ul><p class="py-2">Hope to see you then!</p></section><hr/><div class="py-4"><a class="p-category" href="/blog/categories/python/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">python</span></a><a class="p-category" href="/blog/categories/django/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">django</span></a><a class="p-category" href="/blog/categories/tdd/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">tdd</span></a><a class="p-category" href="/blog/categories/django-blog-tutorial/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">django-blog-tutorial</span></a></div><nav class="pt-4 clear-both box-border"><a rel="prev" class="float-left w-1/2 p-2 shadow-sm hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300 ease-in-out" href="/blog/2014/01/25/my-first-yeoman-generator/"><p><strong class="font-bold clear-both">← Previous page</strong></p><p class="pl-6">My first Yeoman generator</p></a><a rel="next" class="float-right w-1/2 p-2 shadow-sm hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300 ease-in-out" href="/blog/2014/05/24/django-blog-tutorial-the-next-generation-part-5/"><p><strong>→ Next page</strong></p><p class="pl-6">Django blog tutorial - the next generation - part 5</p></a></nav><div id="disqus_thread"></div></article></main></div><footer class="w-full p-4 text-gray-100 bg-gray-800"><ul class="flex flex-row flex-wrap justify-center w-full p-2 mx-auto text-center md:w-2/3 box-border"><li class="w-1/3 my-2 md:w-1/6"><a href="/posts/1">Blog</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="/about">About</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="/contact">Contact</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="https://twitter.com/mattbd">Twitter</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="https://github.com/matthewbdaly">Github</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="/rss.xml">Feed</a></li></ul><div class="w-full p-4 mx-auto text-center md:w-2/3"><p>© Matthew Daly <!-- -->2022</p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-17043630-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2014/02/15/django-blog-tutorial-the-next-generation-part-4/";window.___webpackCompilationHash="bb71cb73b48ae3d0a5a6";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-292603999ddf931fbc86.js"],"app":["/app-8ef96426d66185cd6801.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-37b4064d2301b772dd78.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-b1c82e9082205178a069.js"],"component---src-pages-search-tsx":["/component---src-pages-search-tsx-70464b9f9e03151151f4.js"],"component---src-templates-404-tsx":["/component---src-templates-404-tsx-f9380642b46958eac878.js"],"component---src-templates-archives-tsx":["/component---src-templates-archives-tsx-8b016c619a73e033ac36.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-bf6c75af4b505ad059e7.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-f85e55cd0ab88c0868f7.js"],"component---src-templates-chunk-tsx":["/component---src-templates-chunk-tsx-0245efd25d024a41cdc8.js"],"component---src-templates-page-tsx":["/component---src-templates-page-tsx-5227fa4d4eae92f23fc3.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-345b5309a23a0f882930.js"]};/*]]>*/</script><script src="/polyfill-292603999ddf931fbc86.js" nomodule=""></script><script src="/app-8ef96426d66185cd6801.js" async=""></script><script src="/532a2f07-b2bcfc1100f9b94937a1.js" async=""></script><script src="/framework-a6e7e2d9b047634414ab.js" async=""></script><script src="/webpack-runtime-52e07aab16317ec6df91.js" async=""></script></body></html>