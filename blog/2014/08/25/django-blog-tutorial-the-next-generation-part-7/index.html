<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e3adbc0bd75eaf448024.css" data-identity="gatsby-global-css">/*! tailwindcss v2.2.4 | MIT License | https://tailwindcss.com */

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */html{-webkit-text-size-adjust:100%;line-height:1.15;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;margin:0}hr{color:inherit;height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=submit],button{-webkit-appearance:button}legend{padding:0}progress{vertical-align:baseline}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{font-family:inherit;line-height:inherit}*,:after,:before{border:0 solid;box-sizing:border-box}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{color:inherit;line-height:inherit;padding:0}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}*,:after,:before{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-both{clear:both}.m-0{margin:0}.mx-0{margin-left:0;margin-right:0}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-4{margin-bottom:1rem;margin-top:1rem}.mt-2{margin-top:.5rem}.mt-16{margin-top:4rem}.mr-2{margin-right:.5rem}.mr-8{margin-right:2rem}.-mb-4{margin-bottom:-1rem}.-mb-8{margin-bottom:-2rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.hidden{display:none}.h-2{height:.5rem}.h-4{height:1rem}.min-h-screen{min-height:100vh}.w-1\/2{width:50%}.w-1\/3{width:33.333333%}.w-1\/4{width:25%}.w-3\/4{width:75%}.w-full{width:100%}.flex-grow{flex-grow:1}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}@keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}.list-disc{list-style-type:disc}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.justify-center{justify-content:center}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(2rem*var(--tw-space-y-reverse));margin-top:calc(2rem*(1 - var(--tw-space-y-reverse)))}.space-y-16>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(4rem*var(--tw-space-y-reverse));margin-top:calc(4rem*(1 - var(--tw-space-y-reverse)))}.space-y-32>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(8rem*var(--tw-space-y-reverse));margin-top:calc(8rem*(1 - var(--tw-space-y-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.divide-gray-800>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgba(31,41,55,var(--tw-divide-opacity))}@media (prefers-color-scheme:dark){.dark\:divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgba(229,231,235,var(--tw-divide-opacity))}}.overflow-x-auto{overflow-x:auto}.overflow-x-scroll{overflow-x:scroll}.rounded-full{border-radius:9999px}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border-2{border-width:2px}.border-b-2{border-bottom-width:2px}.border-b-4{border-bottom-width:4px}.border-l-8{border-left-width:8px}.border-transparent{border-color:transparent}.border-gray-100{--tw-border-opacity:1;border-color:rgba(243,244,246,var(--tw-border-opacity))}.border-gray-500{--tw-border-opacity:1;border-color:rgba(107,114,128,var(--tw-border-opacity))}.border-gray-800{--tw-border-opacity:1;border-color:rgba(31,41,55,var(--tw-border-opacity))}.border-green-400,.hover\:border-green-400:hover{--tw-border-opacity:1;border-color:rgba(52,211,153,var(--tw-border-opacity))}.focus\:border-blue-300:focus{--tw-border-opacity:1;border-color:rgba(147,197,253,var(--tw-border-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgba(249,250,251,var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgba(209,213,219,var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgba(31,41,55,var(--tw-bg-opacity))}.bg-purple-200{--tw-bg-opacity:1;background-color:rgba(221,214,254,var(--tw-bg-opacity))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgba(229,231,235,var(--tw-bg-opacity))}.hover\:bg-purple-800:hover{--tw-bg-opacity:1;background-color:rgba(91,33,182,var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.dark\:bg-gray-700{--tw-bg-opacity:1;background-color:rgba(55,65,81,var(--tw-bg-opacity))}.dark\:bg-gray-800{--tw-bg-opacity:1;background-color:rgba(31,41,55,var(--tw-bg-opacity))}.dark\:bg-gray-900{--tw-bg-opacity:1;background-color:rgba(17,24,39,var(--tw-bg-opacity))}.dark\:hover\:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgba(31,41,55,var(--tw-bg-opacity))}}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.from-gray-200{--tw-gradient-from:#e5e7eb;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(229,231,235,0))}.from-green-400{--tw-gradient-from:#34d399;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(52,211,153,0))}.via-blue-500{--tw-gradient-stops:var(--tw-gradient-from),#3b82f6,var(--tw-gradient-to,rgba(59,130,246,0))}.to-gray-300{--tw-gradient-to:#d1d5db}.to-purple-500{--tw-gradient-to:#8b5cf6}.p-2{padding:.5rem}.p-4{padding:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-4{padding-bottom:1rem}.pt-4,.py-4{padding-top:1rem}.pb-16{padding-bottom:4rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-sm{font-size:.875rem;line-height:1.25rem}.text-lg{font-size:1.125rem}.text-lg,.text-xl{line-height:1.75rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.font-semibold{font-weight:600}.font-bold{font-weight:700}.lowercase{text-transform:lowercase}.italic{font-style:italic}.leading-6{line-height:1.5rem}.text-gray-100{--tw-text-opacity:1;color:rgba(243,244,246,var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgba(31,41,55,var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgba(17,24,39,var(--tw-text-opacity))}.hover\:text-gray-200:hover{--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity))}@media (prefers-color-scheme:dark){.dark\:text-gray-100{--tw-text-opacity:1;color:rgba(243,244,246,var(--tw-text-opacity))}.dark\:text-gray-200{--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity))}.dark\:text-gray-300{--tw-text-opacity:1;color:rgba(209,213,219,var(--tw-text-opacity))}}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,:after,:before{--tw-shadow:0 0 #0000}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,0.05)}.shadow-lg,.shadow-sm{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}*,:after,:before{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}.focus\:ring:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.filter{--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:background-color,border-color,color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}code[class*=language-],pre[class*=language-]{display:block}@media (min-width:768px){.md\:float-none{float:none}.md\:block{display:block}.md\:w-2\/3{width:66.666667%}.md\:w-1\/5{width:20%}}@media (min-width:1024px){.lg\:float-right{float:right}.lg\:float-left{float:left}.lg\:mt-4{margin-top:1rem}.lg\:text-left{text-align:left}}.prism-code{-webkit-overflow-scrolling:touch;background-color:transparent;border-radius:.2em;float:left;font-size:1rem;margin-bottom:1rem;margin-top:1rem;overflow:initial;padding-bottom:1rem;padding-top:1rem;position:relative}.prism-code.title{border-radius:0 0 .2em .2em}pre.prism-code{float:left;min-width:100%;overflow:initial;padding:20px}.token{display:inline-block}li>code,p>code{word-wrap:break-word;background:#011627;border-radius:.2em;color:#d6deeb;padding:.2em;white-space:pre-wrap}.gatsby-highlight{-webkit-overflow-scrolling:touch;font-size:1rem;overflow:auto;position:relative}.gatsby-highlight::-webkit-scrollbar{display:none}.gatsby-highlight>code[class*=language-],.gatsby>pre[class*=language-]{-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;overflow-wrap:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-break:normal;word-spacing:normal}.gatsby-highlight .token-line{border-left:4px solid transparent;margin-left:-20px;margin-right:-20px}.line-number-style{display:inline-block;opacity:.3;padding-left:1em;padding-right:2em;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1.2em}.gatsby-highlight .token-line.highlight-line{background-color:#023751;border-left:4px solid #029bce}.gatsby-highlight .token-line.highlight-line .line-number-style{left:0;opacity:.5;width:calc(1.2em - 4px)}</style><meta name="generator" content="Gatsby 3.8.0"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="search" type="application/opensearchdescription+xml" crossorigin="anonymous" href="/opensearch.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Django Blog Tutorial - the Next Generation - Part 7 | Matthew Daly</title><link data-react-helmet="true" href="https://matthewdaly.co.uk" rel="canonical"/><link data-react-helmet="true" href="https://twitter.com/mattbd" rel="me"/><link data-react-helmet="true" href="https://github.com/matthewbdaly" rel="me"/><link data-react-helmet="true" href="mailto:matthew@matthewdaly.co.uk" rel="me"/><link data-react-helmet="true" href="/key.pub" rel="pgpkey"/><link data-react-helmet="true" href="https://webmention.io/matthewdaly.co.uk/xmlrpc" rel="pingback"/><link data-react-helmet="true" href="https://webmention.io/matthewdaly.co.uk/webmention" rel="webmention"/><link data-react-helmet="true" rel="authorization_endpoint" href="https://indieauth.com/auth"/><link data-react-helmet="true" rel="token_endpoint" href="https://tokens.indieauth.com/token"/><link data-react-helmet="true" rel="openid.delegate" href="https://matthewdaly.co.uk"/><link data-react-helmet="true" rel="openid.server" href="https://openid.indieauth.com/openid"/><link data-react-helmet="true" rel="alternate" type="application/rss+xml" title="Matthew Daly - feed" href="/rss.xml"/><link data-react-helmet="true" rel="alternate" type="application/atom+xml" title="Matthew Daly - feed" href="/atom.xml"/><link data-react-helmet="true" rel="alternate" type="application/feed+json" title="Matthew Daly - feed" href="/feed.json"/><meta data-react-helmet="true" name="description" content="Hello once again! In this instalment we&#x27;ll cover: Caching your content with Memcached to improve your site&#x27;s performance Refactoring and simplifying our tests Implementing…"/><meta data-react-helmet="true" property="og:title" content="Django Blog Tutorial - the Next Generation - Part 7"/><meta data-react-helmet="true" property="og:description" content="Hello once again! In this instalment we&#x27;ll cover: Caching your content with Memcached to improve your site&#x27;s performance Refactoring and simplifying our tests Implementing…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="mattbd"/><meta data-react-helmet="true" name="twitter:title" content="Django Blog Tutorial - the Next Generation - Part 7"/><meta data-react-helmet="true" name="twitter:description" content="Hello once again! In this instalment we&#x27;ll cover: Caching your content with Memcached to improve your site&#x27;s performance Refactoring and simplifying our tests Implementing…"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=53aa06cf17e4239d0dba6ffd09854e02" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#3b82f6"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link as="script" rel="preload" href="/webpack-runtime-7a8175c78b932a870960.js"/><link as="script" rel="preload" href="/framework-cb6229a8adb5817307a4.js"/><link as="script" rel="preload" href="/532a2f07-672258f0b4da4ed2ff53.js"/><link as="script" rel="preload" href="/app-5e95bfecb5da57fd1ffa.js"/><link as="script" rel="preload" href="/f0e45107-763177929e8eed3c13bb.js"/><link as="script" rel="preload" href="/e87769ff526c098a69bffbfff9ee9d57397fcb93-0303d5ebbf1672b201f9.js"/><link as="script" rel="preload" href="/15a3be27178e285ff113e12c60c30466a8f4d4c5-a83bf37446aadd700b2f.js"/><link as="script" rel="preload" href="/7840d69eefded84ab93ff6e879351e9a3a16821f-3cc77dc4aa7437d407dd.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-493c03ff50c97c3525f1.js"/><link as="fetch" rel="preload" href="/page-data/blog/2014/08/25/django-blog-tutorial-the-next-generation-part-7/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/290055352.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2909664151.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="flex flex-col min-h-screen font-sans text-lg antialiased text-gray-800 bg-gray-50 dark:text-gray-100 dark:bg-gray-700 leading-6 pb-16"><div class="w-full h-2 bg-gradient-to-r from-green-400 via-blue-500 to-purple-500"></div><nav class="w-full p-4 mx-auto lowercase md:w-2/3"><h1 class="block float-none py-4 text-4xl text-center lg:float-left lg:text-left"><a href="/">Matthew Daly</a></h1><div class="py-2 text-center lg:float-right md:block lg:text-left"><span class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/blog/archives">Archives</a></span><span class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/about">About</a></span><span class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/uses">Uses</a></span><span class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/posts/1">Blog</a></span><span class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/blog/categories">Categories</a></span><span class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/search">Search</a></span></div></nav><div class="w-full h-4 clear"></div><main class="flex-grow w-full p-4 mx-auto md:w-2/3"><article class="h-entry"><header><h2 class="py-4 text-2xl font-bold e-content p-name"><a class="u-url" href="https://matthewdaly.co.uk/blog/2014/08/25/django-blog-tutorial-the-next-generation-part-7/">Django Blog Tutorial - the Next Generation - Part 7</a></h2><p class="my-4 text-lg font-semibold">Published by <a href="/" rel="author">Matthew Daly</a> at <!-- -->25th August 2014 4:15 pm</p><time class="hidden dt-published">2014-08-25T16:15:01+00:00</time></header><section><p class="py-2">Hello once again! In this instalment we&#x27;ll cover:</p><ul class="py-2 pl-4"><li class="list-disc">Caching your content with Memcached to improve your site&#x27;s performance</li><li class="list-disc">Refactoring and simplifying our tests</li><li class="list-disc">Implementing additional feeds</li><li class="list-disc">Creating a simple search engine</li></ul><p class="py-2">Don&#x27;t forget to activate your virtualenv:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ </span><span class="token builtin class-name" style="color:#FAC863">source</span><span class="token plain"> venv/bin/activate</span></div></pre></div></pre><p class="py-2">Now let&#x27;s get started!</p><h1 class="py-4 text-4xl font-bold">Memcached</h1><p class="py-2">If you frequent (or used to frequent) social media sites like Reddit, Slashdot or Digg, you may be familiar with something called variously the Digg or Slashdot effect, whereby if a page gets submitted to a social media site, and subsequently becomes popular, it can be hit by a huge number of HTTP requests in a very short period of time, slowing it down or even taking the server down completely.</p><p class="py-2">Now, as a general rule of thumb, for most dynamic websites such as blogs, the bottleneck is not the web server or the programming language, but the database. If you have a lot of people hitting the same page over and over again in quick succession, then you&#x27;re essentially running the same query over and over again and getting the same result each time, which is expensive in terms of processing power. What you need to be able to do is cache the results of the query in memory for a given period of time so that the number of queries is reduced.</p><p class="py-2">That&#x27;s where Memcached comes in. It&#x27;s a simple key-value store that allows you to store values in memory for a given period of time so that they can be retrieved without having to query the database. Memcached is a very common choice for caching, and is by far the fastest and most efficient type of cache available for Django. It&#x27;s also available on Heroku&#x27;s free tier.</p><p class="py-2">Django has a very powerful caching framework that supports numerous types of cache in addition to Memcached, such as:</p><ul class="py-2 pl-4"><li class="list-disc">Database caching</li><li class="list-disc">Filesystem caching</li><li class="list-disc">Local memory caching</li></ul><p class="py-2">There are also third-party backends for using other caching systems such as Redis.</p><p class="py-2">Now, the cache can be used in a number of different ways. You can cache only certain parts of your site if you wish. However, because our site is heavily content-driven, we should be pretty safe to use the per-site cache, which is the simplest way to set up caching.</p><p class="py-2">In order to set up Memcached, there&#x27;s a couple of Python libraries we&#x27;ll need. If you want to install them locally, however, you&#x27;ll need to install both memcached and libmemcached (on Ubuntu, the packages you need are called <code>memcached</code> and <code>libmemcached-dev</code>) on your development machine. If you don&#x27;t want to do this, then just copy and paste these lines into <code>requirements.txt</code> instead:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">django-pylibmc-sasl</span><span class="token operator" style="color:#d7deea">==</span><span class="token number" style="color:#5a9bcf">0.2</span><span class="token plain">.4</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token assign-left variable" style="color:#d7deea">pylibmc</span><span class="token operator" style="color:#d7deea">==</span><span class="token number" style="color:#5a9bcf">1.3</span><span class="token plain">.0</span></div></pre></div></pre><p class="py-2">If you are happy to install these dependencies locally, then run this command once memcached and libmemcached are installed:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ pip </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> pylibmc django-pylibmc-sasl</span></div></pre></div></pre><p class="py-2">With that done let&#x27;s configure Memcached. Open up the settings file and add the following at the bottom:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_cache</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> os</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHE_SERVERS&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHIER_SERVERS&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;,&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHE_USERNAME&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHIER_USERNAME&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHE_PASSWORD&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHIER_PASSWORD&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;BACKEND&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;django_pylibmc.memcached.PyLibMCCache&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;TIMEOUT&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">300</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;BINARY&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;OPTIONS&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;tcp_nodelay&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;BACKEND&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;django.core.cache.backends.locmem.LocMemCache&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">CACHES </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> get_cache</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">CACHE_MIDDLEWARE_ALIAS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">CACHE_MIDDLEWARE_SECONDS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">300</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">CACHE_MIDDLEWARE_KEY_PREFIX </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Then add the following to <code>MIDDLEWARE_CLASSES</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&#x27;django.middleware.cache.UpdateCacheMiddleware&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&#x27;django.middleware.common.CommonMiddleware&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&#x27;django.middleware.cache.FetchFromCacheMiddleware&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">That&#x27;s it! The first section configures the application to use Memcached to cache the content when running on Heroku, and sets some configuration parameters, while the second  section tells Django to use the per-site cache in order to cache all the site content.</p><p class="py-2">Now, Heroku doesn&#x27;t include Memcached by default - instead it&#x27;s available as an add-on called Memcachier. To use add-ons you need to set up a credit card for billing. We will set it up to use the free developer plan, but if you outgrow this you can easily switch to a paid plan. To add Memcachier, run this command:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ heroku addons:add memcachier:dev</span></div></pre></div></pre><p class="py-2">Please note that Memcachier can take a few minutes to get set up, so you may want to leave it a little while between adding it and pushing up your changes. Now we&#x27;ll commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> requirements.txt django_tutorial_blog_ng/settings.py</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Implemented caching with Memcached&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Then we&#x27;ll push them up to our remote repository and to Heroku:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> push origin master</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> push heroku master</span></div></pre></div></pre><p class="py-2">And that&#x27;s all you need to do to set up Memcached. In addition to storing your query results in Memcached, enabling the caching framework in Django will also set various HTTP headers to enable web proxies and browsers to cache content for an appropriate length of time. If you open up your browser&#x27;s developer tools and compare the response headers for your homepage on the latest version of the code with the previous version, you&#x27;ll notice that a number of additional headers appear, including <code>Cache-Control</code>, <code>Expires</code> and <code>Last-Modified</code>. These tell web browsers and web proxies how often to request the latest version of the HTML document, in order to help you reduce the bandwidth used.</p><p class="py-2">As you can see, for a site like this where you are the only person adding content, it&#x27;s really easy to implement caching with Django, and for a blog there&#x27;s very little reason not to do it. If you&#x27;re not using Heroku and are instead hosting your site on a VPS, then the configuration will be somewhat different - see <a href="https://docs.djangoproject.com/en/dev/topics/cache/#memcached" class="border-b-2 border-green-400">here</a> for details. You can also find information on using other cache backends on the same page.</p><p class="py-2">That isn&#x27;t all you can do to speed up your site. Heroku doesn&#x27;t seem to be very good for serving static files, and if your site is attracting a lot of traffic you might want to host your static files elsewhere, such as on Amazon&#x27;s S3 service. Doing so is outside the scope of this tutorial, but for that use case, you should check out <a href="http://django-storages.readthedocs.org/en/latest/index.html" class="border-b-2 border-green-400">django-storages</a>.</p><h1 class="py-4 text-4xl font-bold">Clearing the cache automatically</h1><p class="py-2">There is one issue with this implementation. As it is right now, if you view the home page, add a post, then reload the page, you may not see the new post immediately because the cache will continue serving the old version until it has expired. That behaviour is less than ideal - we would like the cache to be cleared automatically when a new post gets added so that users will see the new version immediately. That response will still be cached afterwards, so it only means one extra query.</p><p class="py-2">This is the ideal place to introduce <a href="https://docs.djangoproject.com/en/dev/topics/signals/" class="border-b-2 border-green-400">signals</a>. Signals are a way to carry out a given action when an event takes place. In our case, we plan to clear the cache when a post is saved (either created or updated).</p><p class="py-2">Note that as we&#x27;ll be testing the behaviour of the cache at this point, you&#x27;ll need to install Memcached on your local machine, and we&#x27;ll need to change the settings to fall back to our local Memcached instance:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_cache</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> os</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHE_SERVERS&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHIER_SERVERS&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;,&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHE_USERNAME&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHIER_USERNAME&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHE_PASSWORD&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;MEMCACHIER_PASSWORD&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;BACKEND&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;django_pylibmc.memcached.PyLibMCCache&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;TIMEOUT&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">300</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;BINARY&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">True</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;OPTIONS&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;tcp_nodelay&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">True</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">      </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;BACKEND&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;django.core.cache.backends.memcached.PyLibMCCache&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&#x27;LOCATION&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;127.0.0.1:11211&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">CACHES </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> get_cache</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">CACHE_MIDDLEWARE_ALIAS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">CACHE_MIDDLEWARE_SECONDS </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">300</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">CACHE_MIDDLEWARE_KEY_PREFIX </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">If you don&#x27;t want to install Memcached locally, you can skip this step, but be aware that the test we write for clearing the cache will always pass if you do skip it.</p><p class="py-2">Then we&#x27;ll run our tests to make sure nothing has been broken:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py jenkins blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">23</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">6</span><span class="token plain">.164s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div></pre></div></pre><p class="py-2">Let&#x27;s commit:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> django_tutorial_blog_ng/settings.py</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now use Memcached in development&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now we&#x27;ll add a test for clearing the cache to <code>PostViewTest</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_clear_cache</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the first post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my first blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check new post saved</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the second post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is [my second blog post](http://127.0.0.1:8000/)&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-second-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the index again</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check second post present</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;my second blog post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This should be fairly self-explanatory. We create one post, and request the index page. We then add a second post, request the index page again, and check for the second post. The test should fail because the cached version is returned, rather than the version in the database.</p><p class="py-2">Now we have a test in place, we can implement a fix. First, add this to the top of your <code>models.py</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">signals </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> post_save</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">core</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">cache </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> cache</span></div></pre></div></pre><p class="py-2">Then add the following at the bottom of the file:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Define signals</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">new_post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> created</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    cache</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">clear</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Set up signals</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">post_save</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">new_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> sender</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This is fairly straightforward. What we&#x27;re doing is first defining a function called <code>new_post</code> that is called when a new post is created. We then connect it to the <code>post_save</code> signal. When a post is saved, it calls <code>new_post</code>, which clears the cache, making sure users are seeing the latest and greatest version of your site immediately.</p><p class="py-2">Let&#x27;s test it:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py jenkins blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">8</span><span class="token plain">.473s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">There are a number of signals available, and when you create one, you have access to the created object via the <code>instance</code> parameter. Using signals you can implement all kinds of functionality. For instance, you could implement the functionality to send an email when a new post is published.</p><p class="py-2">If you&#x27;re using Travis CI, you&#x27;ll also need to update the config file:</p><pre><div class="gatsby-highlight" data-language="yaml"><pre class="prism-code language-yamlundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token key atrule">language</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> python</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token key atrule">python</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;2.7&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> memcached</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token key atrule">before_install</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> sudo apt</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">get install </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">y libmemcached</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">dev</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain"></span><span class="token comment" style="color:#999999"># command to install dependencies</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain"></span><span class="token key atrule">install</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;pip install -r requirements.txt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain"></span><span class="token comment" style="color:#999999"># command to run tests</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain"></span><span class="token key atrule">script</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> coverage run </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">include=&quot;blogengine/</span><span class="token important" style="font-weight:400">*&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain">omit=&quot;blogengine/migrations/</span><span class="token important" style="font-weight:400">*&quot;</span><span class="token plain"> manage.py test blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain"></span><span class="token key atrule">after_success</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    coveralls</span></div></pre></div></pre><p class="py-2">Time to commit:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/ .travis.yml</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now clear cache when post added&#x27;</span><span class="token plain"></span></div></pre></div></pre><h1 class="py-4 text-4xl font-bold">Formatting for RSS feeds</h1><p class="py-2">Now, we want to offer more than one option for RSS feeds. For instance, if your blog is aggregated on a site such as <a href="http://planet.python.org/" class="border-b-2 border-green-400">Planet Python</a>, but you also blog about JavaScript, you may want to be able to provide a feed for posts in the <code>python</code> category only.</p><p class="py-2">If you have written any posts that use any of Markdown&#x27;s custom formatting, you may notice that if you load your RSS feed in a reader, it isn&#x27;t formatted as Markdown. Let&#x27;s fix that. First we&#x27;ll amend our test:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">FeedTest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">BaseAcceptanceTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_all_post_feed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the author</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        author</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create the site</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        site</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain"> </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create a post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my *first* blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> author</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Save it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Add the tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check we can find it</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        all_posts </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">all_posts</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        only_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> all_posts</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">only_post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/feeds/posts/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Parse the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        feed </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feedparser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check length</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post retrieved is the correct one</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        feed_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;This is my &lt;em&gt;first&lt;/em&gt; blog post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Don&#x27;t forget to run the tests to make sure they fail. Now, let&#x27;s fix it:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> render</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">syndication</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">encoding </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> force_unicode</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">safestring </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> mark_safe</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> markdown2</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your views here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TagListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">            tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post_set</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Feed</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - posts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">    link </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;feeds/posts/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">items</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;-pub_date&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">item_title</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">item_description</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        extras </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;fenced-code-blocks&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        content </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mark_safe</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown2</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_unicode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">                                               extras </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> extras</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> content</span></div></pre></div></pre><p class="py-2">All we&#x27;re doing here is amending the <code>item_description</code> method of <code>PostsFeed</code> to render it as Markdown. Now let&#x27;s run our tests again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py jenkins</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">9</span><span class="token plain">.370s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">With that done, we&#x27;ll commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Fixed rendering for post feed&#x27;</span><span class="token plain"></span></div></pre></div></pre><h1 class="py-4 text-4xl font-bold">Refactoring our tests</h1><p class="py-2">Now, before we get into implementing the feed, our tests are a bit verbose. We create a lot of items over and over again - let&#x27;s sort that out. Factory Boy is a handy Python module that allows you to create easy-to-use factories for creating objects over and over again in tests. Let&#x27;s install it:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ pip </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> factory_boy</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ pip freeze </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> requirements.txt</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> requirements.txt</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Installed Factory Boy&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now let&#x27;s set up a factory for creating posts. Add this at the top of the test file:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span></div></pre></div></pre><p class="py-2">Then, before your actual tests, insert the following:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token comment" style="color:#999999"># Factories</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SiteFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DjangoModelFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        model </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Site</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        django_get_or_create </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;domain&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    domain </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;example.com&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now, wherever you call <code>Site()</code>, add its attributes, and save it, replace those lines with the following:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">        site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> SiteFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Much simpler and more concise, I&#x27;m sure you&#x27;ll agree! Now, let&#x27;s run the tests to make sure they aren&#x27;t broken:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain">.482s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Let&#x27;s commit again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/tests.py</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now use Factory Boy for site objects&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Let&#x27;s do the same thing with <code>Category</code> objects:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DjangoModelFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        model </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        django_get_or_create </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;description&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Again, just find every time we call <code>Category()</code> and replace it with the following:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now if we run our tests, we&#x27;ll notice a serious error:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">EE</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">EE.EE.EE</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.E.EEE</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">E.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">ERROR: test_create_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">42</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">ERROR: test_create_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">80</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">ERROR: test_create_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">339</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain">ERROR: test_create_post_without_tag </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">378</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_create_post_without_tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">ERROR: test_delete_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">245</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">107</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">108</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">109</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">110</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">111</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">112</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">113</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">114</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">115</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">116</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">117</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">118</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">119</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">120</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">121</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">122</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">123</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">124</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">125</span><span class="token plain">ERROR: test_delete_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">126</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">127</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">128</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">467</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_delete_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">129</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">130</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">131</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">132</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">133</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">134</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">135</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">136</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">137</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">138</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">139</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">140</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">141</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">142</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">143</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">144</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">145</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">146</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">147</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">148</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">149</span><span class="token plain">ERROR: test_edit_category </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">150</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">151</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">152</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">221</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_category</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">153</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">154</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">155</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">156</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">157</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">158</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">159</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">160</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">161</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">162</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">163</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">164</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">165</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">166</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">167</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">168</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">169</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">170</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">171</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">172</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">173</span><span class="token plain">ERROR: test_edit_post </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.AdminTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">174</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">175</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">176</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">410</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_edit_post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">177</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">178</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">179</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">180</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">181</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">182</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">183</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">184</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">185</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">186</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">187</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">188</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">189</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">190</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">191</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">192</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">193</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">194</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">195</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">196</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">197</span><span class="token plain">ERROR: test_all_post_feed </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.FeedTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">198</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">199</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">200</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">810</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_all_post_feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">201</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">202</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">203</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">204</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">205</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">206</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">207</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">208</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">209</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">210</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">211</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">212</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">213</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">214</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">215</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">216</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">217</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">218</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">219</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">220</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">221</span><span class="token plain">ERROR: test_category_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">222</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">223</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">224</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">640</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_category_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">225</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">226</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">227</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">228</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">229</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">230</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">231</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">232</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">233</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">234</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">235</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">236</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">237</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">238</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">239</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">240</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">241</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">242</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">243</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">244</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">245</span><span class="token plain">ERROR: test_clear_cache </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">246</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">247</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">248</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">753</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_clear_cache</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">249</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">250</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">251</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">252</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">253</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">254</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">255</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">256</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">257</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">258</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">259</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">260</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">261</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">262</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">263</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">264</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">265</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">266</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">267</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">268</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">269</span><span class="token plain">ERROR: test_index </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">270</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">271</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">272</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">518</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_index</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">273</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">274</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">275</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">276</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">277</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">278</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">279</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">280</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">281</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">282</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">283</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">284</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">285</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">286</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">287</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">288</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">289</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">290</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">291</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">292</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">293</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">294</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">295</span><span class="token plain">ERROR: test_post_page </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.PostViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">296</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">297</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">298</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">576</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_post_page</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">299</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">300</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">82</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> __call__</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">301</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls.create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">302</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">585</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">303</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._generate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">True, attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">304</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">510</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _generate</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">305</span><span class="token plain">    obj </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> cls._prepare</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">create, **attrs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">306</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/base.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">485</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _prepare</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">307</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">308</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">151</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">309</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">310</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">311</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> cls._get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">model_class, *args, **kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">312</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/factory/django.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">142</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> _get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">313</span><span class="token plain">    obj, _created </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> manager.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">*args, **key_fields</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">314</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/manager.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">154</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">315</span><span class="token plain">    </span><span class="token builtin class-name" style="color:#FAC863">return</span><span class="token plain"> self.get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">.get_or_create</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">**kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">316</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/venv/lib/python2.7/site-packages/django/db/models/query.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">383</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> get_or_create</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">317</span><span class="token plain">    obj.save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_insert</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">True, </span><span class="token assign-left variable" style="color:#d7deea">using</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self.db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">318</span><span class="token plain">TypeError: save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> got an unexpected keyword argument </span><span class="token string" style="color:#8dc891">&#x27;force_insert&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">319</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">320</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">321</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.162s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">322</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">323</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">errors</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">13</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">324</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Thankfully, this is easy to fix. We just need to amend the custom <code>save()</code> method of the <code>Category</code> model:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">            self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> slugify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">unicode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token builtin" style="color:#D8DEE9">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">That should resolve the issue:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py jenkins</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain">.749s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Let&#x27;s commit again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Category now uses Factory Boy&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now let&#x27;s do the same thing for tags:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TagFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DjangoModelFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        model </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        django_get_or_create </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;name&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;description&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;The Python programming language&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;python&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">And replace the sections where we create new <code>Tag</code> objects:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> TagFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that some tags have different values. We can easily pass different values to our <code>TagFactory()</code> to override the default values:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">        tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> TagFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> description</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">The <code>Tag</code> model has the same issue as the <code>Category</code> one did, so let&#x27;s fix that:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">            self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> slugify</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">unicode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        </span><span class="token builtin" style="color:#D8DEE9">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">We run our tests again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain">.153s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Time to commit again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now use Factory Boy for tags&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Next we&#x27;ll create a factory for adding users. Note that the factory name doesn&#x27;t have to match the object name, so you can create factories for different types of users. Here we create a factory for authors - you could, for instance, create a separate factory for subscribers if you wanted:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">AuthorFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DjangoModelFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        model </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> User</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        django_get_or_create </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;username&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token string" style="color:#8dc891">&#x27;email&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    username </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;testuser&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    email </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;user@example.com&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    password </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;password&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">And as before, replace those sections where we create users with the following:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">        author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> AuthorFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Run the tests again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.808s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">We commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now use Factory Boy for creating authors&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now we&#x27;ll create a flat page factory:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">FlatPageFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DjangoModelFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        model </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> FlatPage</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        django_get_or_create </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;url&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;title&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;content&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    url </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;/about/&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;About me&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    content </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;All about me&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">And use it for our flat page test:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">        page </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> FlatPageFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Check the tests pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">24</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.796s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">And commit again:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now use Factory Boy for flat page test&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now we&#x27;ll create a final factory for posts:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DjangoModelFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Meta</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        model </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        django_get_or_create </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;title&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;text&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token string" style="color:#8dc891">&#x27;pub_date&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    text </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;This is my first blog post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;my-first-post&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    pub_date </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> timezone</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">    author </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SubFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">AuthorFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">    site </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SubFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">SiteFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> factory</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">SubFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">CategoryFactory</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This factory is a little bit different. Because our <code>Post</code> model depends on several others, we need to be able to create those additional objects on demand. By designating them as subfactories, we can easily create the associated objects for our <code>Post</code> object.</p><p class="py-2">That means that not only can we get rid of our <code>Post()</code> calls, but we can also get rid of the factory calls to create the associated objects for <code>Post</code> models. Again, I&#x27;ll leave actually doing this as an exercise for the reader, but you can always refer to the GitHub repository if you&#x27;re not too sure.</p><p class="py-2">Make sure your tests still pass, then commit the changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Now use Factory Boy for testing posts&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Using Factory Boy made a big difference to the size of the test file - I was able to cut it down by over 200 lines of code. As your application gets bigger, it gets harder to maintain, so do what you can to keep the size down.</p><h1 class="py-4 text-4xl font-bold">Additional RSS feeds</h1><p class="py-2">Now, let&#x27;s implement our additional RSS feeds. First, we&#x27;ll write a test for the category feed. Add this to the <code>FeedTest</code> class:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_category_feed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create a post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">text</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;This is my *first* blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create another post in a different category</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> CategoryFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> description</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        post2 </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">text</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;This is my *second* blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> title</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;my-second-post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Fetch the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/feeds/posts/category/python/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Parse the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        feed </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feedparser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check length</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check post retrieved is the correct one</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        feed_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;This is my &lt;em&gt;first&lt;/em&gt; blog post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check other post is not in this feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;This is my &lt;em&gt;second&lt;/em&gt; blog post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Here we create two posts in different categories (note that we create a new category and override the post category for it). We then fetch <code>/feeds/posts/category/python/</code> and assert that it contains only one post, with the content of the first post and not the content of the second.</p><p class="py-2">Run the tests and they should fail:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_category_feed </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.FeedTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">716</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_category_feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">25</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.804s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Because we haven&#x27;t yet implemented that route, we get a 404 error. So let&#x27;s create a route for this:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> url</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostsFeed</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryPostsFeed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">urlpatterns </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;page&gt;\d+)?/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Individual posts</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;pub_date__year&gt;\d{4})/(?P&lt;pub_date__month&gt;\d{1,2})/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Categories</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Tags</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^tag/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Post RSS feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^feeds/posts/$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Category RSS feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^feeds/posts/category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryPostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that the category RSS feed route is similar to the post RSS feed route, but accepts a <code>slug</code> parameter. We will use this to pass through the slug for the category in question. Also note we import the <code>CategoryPostsFeed</code> view. Now, we need to create that view. Fortunately, because it&#x27;s written as a Python class, we can extend the existing <code>PostsFeed</code> class. Open up your views file and amend it to look like this:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> get_object_or_404</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">syndication</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">encoding </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> force_unicode</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">safestring </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> mark_safe</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> markdown2</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain"></span><span class="token comment" style="color:#999999"># Create your views here.</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TagListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">            tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post_set</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Feed</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    title </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - posts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">    description </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    link </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;/&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">items</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;-pub_date&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">item_title</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">item_description</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        extras </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;fenced-code-blocks&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        content </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> mark_safe</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">markdown2</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">markdown</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">force_unicode</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">                                               extras </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> extras</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> content</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryPostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">PostsFeed</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_object</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> get_object_or_404</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">title</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts in category %s&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">link</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">description</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts in category %s&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">items</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">order_by</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;-pub_date&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that many of our fields don&#x27;t have to be explicitly defined as they are inherited from <code>PostsFeed</code>. We can&#x27;t hard-code the title, link or description because they depend on the category, so we instead define methods to return the appropriate text.</p><p class="py-2">Also note <code>get_object()</code> - we define this so that we can ensure the category exists. If it doesn&#x27;t exist, then it returns a 404 error rather than showing an empty feed.</p><p class="py-2">We also override <code>items()</code> to filter it to just those posts that are in the given category.</p><p class="py-2">If you run the tests again, they should now pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">25</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.867s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Let&#x27;s commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Implemented category RSS feed&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now, we can get our category RSS feed, but how do we navigate to it? Let&#x27;s add a link to each category page that directs a user to its RSS feed. To do so, we&#x27;ll need to create a new template for category pages. First, let&#x27;s add some code to our tests to ensure that the right template is used at all times. Add the following to the end of the <code>test_index</code> method of <code>PostViewTest</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the correct template was used</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTemplateUsed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine/post_list.html&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Then, add this to the end of <code>test_post_page</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the correct template was used</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTemplateUsed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine/post_detail.html&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Finally, add this to the end of <code>test_category_page</code>:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the correct template was used</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTemplateUsed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine/category_post_list.html&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">These assertions confirm which template was used to generate which request.</p><p class="py-2">Next, we head into our views file:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">CategoryListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    template_name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine/category_post_list.html&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            category </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">category</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">category</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_context_data</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        context </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">CategoryListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_context_data</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">            context</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;category&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">            context</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;category&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> context</span></div></pre></div></pre><p class="py-2">Note that we first of all change the template used by this view. Then, we override <code>get_context_data</code> to add in additional data. What we&#x27;re doing is getting the slug that was passed through, looking up any category for which it is the slug, and returning it as additional context data. Using this method, you can easily add additional data that you may wish to render in your Django templates.</p><p class="py-2">Finally, we create our new template:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-djangoundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token delimiter punctuation" style="color:#8dc891">{%</span><span class="token plain"> </span><span class="token tag keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">load</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">custom_markdown</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">block</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">object_list</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">object_list</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;post col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ post.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">title</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h3</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">pub_date</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h3</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">text</span><span class="token operator" style="color:#d7deea">|</span><span class="token filter function" style="color:#79b6f2">custom_markdown</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">category</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ post.category.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;label label-primary&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">tags</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">all</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ tag.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;label label-success&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">else</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">No</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">posts</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">found</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">ul</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;pager&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">page_obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">has_previous</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;previous&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/{{ page_obj.previous_page_number }}/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Previous</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Page</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">page_obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">has_next</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;next&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/{{ page_obj.next_page_number }}/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Next</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Page</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">ul</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/feeds/posts/category/{{ category.slug }}/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">RSS</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">feed</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">category</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endblock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that the category has been passed through to the template and is now accessible. If you run the tests, they should now pass:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py jenkins</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">25</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain">.232s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">With that done. we can commit our changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> templates/ blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Added link to RSS feed from category page&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Next up, let&#x27;s implement another RSS feed for tags. First, we&#x27;ll implement our test:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">      </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_tag_feed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Create a post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">          post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">text</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;This is my *first* blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">          tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> TagFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">          post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">          post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Create another post with a different tag</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">          tag2 </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> TagFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> description</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;The Perl programming language&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;perl&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">          post2 </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">text</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;This is my *second* blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> title</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;my-second-post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">          post2</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">tag2</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">          post2</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Fetch the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">          response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/feeds/posts/tag/python/&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">          self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Parse the feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">          feed </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feedparser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Check length</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">          self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token builtin" style="color:#D8DEE9">len</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Check post retrieved is the correct one</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">          feed_post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> feed</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">          self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">          self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;This is my &lt;em&gt;first&lt;/em&gt; blog post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> feed_post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">          </span><span class="token comment" style="color:#999999"># Check other post is not in this feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">          self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;This is my &lt;em&gt;second&lt;/em&gt; blog post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This is virtually identical to the test for the category feed, but we adjust it to work with the <code>Tag</code> attribute and change the URL. Let&#x27;s check that our test fails:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.F</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_tag_feed </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.FeedTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">757</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_tag_feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">26</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.760s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">As before, we create a route for this:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">urls </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> url</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostsFeed</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryPostsFeed</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagPostsFeed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">urlpatterns </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> patterns</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Index</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;page&gt;\d+)?/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> ListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Individual posts</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^(?P&lt;pub_date__year&gt;\d{4})/(?P&lt;pub_date__month&gt;\d{1,2})/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> DetailView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Categories</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Tags</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^tag/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagListView</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">as_view</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        paginate_by</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        model</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Post RSS feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^feeds/posts/$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> PostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Category RSS feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^feeds/posts/category/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> CategoryPostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Tag RSS feed</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^feeds/posts/tag/(?P&lt;slug&gt;[a-zA-Z0-9-]+)/?$&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> TagPostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Next, we create our view:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TagPostsFeed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">PostsFeed</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_object</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> get_object_or_404</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">title</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts tagged  %s&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">link</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_absolute_url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">description</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;RSS feed - blog posts tagged %s&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">items</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">            tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post_set</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Again, this inherits from <code>PostsFeed</code>, but the syntax for getting posts matching a tag is slightly different because they use a many-to-many relationship.</p><p class="py-2">We also need a template for the tag pages. Add this to the end of the <code>test_tag_page</code> method:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the correct template was used</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTemplateUsed</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine/tag_post_list.html&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Let&#x27;s create that template:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-djangoundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token delimiter punctuation" style="color:#8dc891">{%</span><span class="token plain"> </span><span class="token tag keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">load</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">custom_markdown</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">block</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">object_list</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">object_list</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;post col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ post.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">title</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h3</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">pub_date</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h3</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">text</span><span class="token operator" style="color:#d7deea">|</span><span class="token filter function" style="color:#79b6f2">custom_markdown</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">category</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ post.category.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;label label-primary&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">tags</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">all</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ tag.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;label label-success&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">else</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">No</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">posts</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">found</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">ul</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;pager&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">page_obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">has_previous</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;previous&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/{{ page_obj.previous_page_number }}/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Previous</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Page</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">page_obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">has_next</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;next&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/{{ page_obj.next_page_number }}/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Next</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Page</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">ul</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/feeds/posts/tag/{{ tag.slug }}/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">RSS</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">feed</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endblock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This is virtually identical to the category template. You&#x27;ll also need to apply this template in the view for the tag list, and pass the tag name through as context data:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TagListView</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">ListView</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    template_name </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine/tag_post_list.html&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_queryset</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            tag </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">post_set</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">none</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">get_context_data</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        context </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">super</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">TagListView</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_context_data</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        slug </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;slug&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">            context</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;tag&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">slug</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> Tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">DoesNotExist</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">            context</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;tag&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> context</span></div></pre></div></pre><p class="py-2">Let&#x27;s run our tests:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> blogengine</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">26</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.770s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">You may want to do a quick check to ensure your tag feed link works as expected. Time to commit:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine templates</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Implemented tag feeds&#x27;</span><span class="token plain"></span></div></pre></div></pre><h1 class="py-4 text-4xl font-bold">Moving our templates</h1><p class="py-2">Before we crack on with implementing search, there&#x27;s one more piece of housekeeping. In Django, templates can be applied at project level or at app level. So far, we&#x27;ve been storing them in the project, but we would like our app to be as self-contained as possible so it can just be dropped into future projects where we need a blog. That way, it can be easily overridden for specific projects. You can move the folders and update the Git repository at the same time with this command:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">mv</span><span class="token plain"> templates/ blogengine/</span></div></pre></div></pre><p class="py-2">We run the tests to make sure nothing untoward has happened:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">26</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token plain">.847s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">And we commit:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Moved templates&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Note that <code>git mv</code> updates Git and moves the files, so you don&#x27;t need to call <code>git add</code>.</p><h1 class="py-4 text-4xl font-bold">Implementing search</h1><p class="py-2">For our final task today, we will be implementing a very simple search engine. Our requirements are:</p><ul class="py-2 pl-4"><li class="list-disc">It should be in the header, to allow for easy access from anywhere in the front end.</li><li class="list-disc">It should search the title and text of posts.</li></ul><p class="py-2">First, we&#x27;ll write our tests:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SearchViewTest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">BaseAcceptanceTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">test_search</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create a post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">        post </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Create another post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        post2 </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> PostFactory</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">text</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;This is my *second* blog post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> title</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> slug</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;my-second-post&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Search for first post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/search?q=first&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the first post is contained in the results</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the second post is not contained in the results</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Search for second post</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        response </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;/search?q=second&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the first post is not contained in the results</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;My first post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token comment" style="color:#999999"># Check the second post is contained in the results</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">assertTrue</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;My second post&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Don&#x27;t forget to run the tests to make sure they fail:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">F</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">FAIL: test_search </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">blogengine.tests.SearchViewTest</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">Traceback </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">most recent call last</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">  File </span><span class="token string" style="color:#8dc891">&quot;/Users/matthewdaly/Projects/django_tutorial_blog_ng/blogengine/tests.py&quot;</span><span class="token plain">, line </span><span class="token number" style="color:#5a9bcf">819</span><span class="token plain">, </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> test_search</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    self.assertEquals</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response.status_code, </span><span class="token number" style="color:#5a9bcf">200</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">AssertionError: </span><span class="token number" style="color:#5a9bcf">404</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">27</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">6</span><span class="token plain">.919s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">FAILED </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">failures</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">With that done, we can add the search form to the header:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-djangoundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token variable" style="color:#d7deea">DOCTYPE</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">html</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">lt</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">IE</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">      </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">html</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">endif</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">IE</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">         </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">html</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;no-js lt-ie9 lt-ie8&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">endif</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">IE</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">8</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">         </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">html</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;no-js lt-ie9&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">endif</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">gt</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">IE</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">8</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">html</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;no-js&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">endif</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">head</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">meta</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">charset</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;utf-8&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">meta</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">http</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">equiv</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;X-UA-Compatible&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;IE=edge&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">title</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">block</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">title</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token variable" style="color:#d7deea">My</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Django</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Blog</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endblock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">title</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">meta</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">name</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;description&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">meta</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">name</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;viewport&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;width=device-width, initial-scale=1&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;alternate&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">type</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;application/rss+xml&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">title</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;Blog posts&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/feeds/posts/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Place</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">favicon</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">ico</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">and</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">apple</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">touch</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">icon</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">png</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">the</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">root</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">directory</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">load</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">staticfiles</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;stylesheet&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/html5-boilerplate/css/normalize.css&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;stylesheet&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/html5-boilerplate/css/main.css&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;stylesheet&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/bootstrap/dist/css/bootstrap.min.css&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;stylesheet&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/bootstrap/dist/css/bootstrap-theme.min.css&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;stylesheet&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;css/main.css&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">link</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">rel</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;stylesheet&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;css/code.css&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">src</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/html5-boilerplate/js/vendor/modernizr-2.6.2.min.js&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">head</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">body</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">lt</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">IE</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">7</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">p</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;browsehappy&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">You</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">are</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">using</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">an</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">strong</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">outdated</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">strong</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">browser</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Please</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;http://browsehappy.com/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">upgrade</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">your</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">browser</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">to</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">improve</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">your</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">experience</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">endif</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Add</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">your</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">site</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">or</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">application</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">here</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">id</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;fb-root&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">d</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">s</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">            </span><span class="token variable" style="color:#d7deea">var</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">js</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">fjs</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">s</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">            </span><span class="token function" style="color:#79b6f2">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">getElementById</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">return</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">                </span><span class="token variable" style="color:#d7deea">js</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">d</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">s</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">id</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">id</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">                </span><span class="token variable" style="color:#d7deea">js</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">src</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;//connect.facebook.net/en_GB/all.js#xfbml=1&quot;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">                </span><span class="token variable" style="color:#d7deea">fjs</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">js</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">fjs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;facebook-jssdk&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;navbar navbar-static-top navbar-inverse&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;container-fluid&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;navbar-header&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">button</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">type</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;button&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;navbar-toggle&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">data</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">toggle</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;collapse&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">data</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">target</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;#header-nav&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;icon-bar&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;icon-bar&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;icon-bar&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">button</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;navbar-brand&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">My</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Django</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Blog</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;collapse navbar-collapse&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">id</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;header-nav&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">ul</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;nav navbar-nav&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">                        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">load</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">flatpages</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">                        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">get_flatpages</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">as</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">flatpages</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">                        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">flatpage</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">flatpages</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ flatpage.url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">flatpage</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">title</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">                        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/feeds/posts/&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">RSS</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">feed</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">form</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">action</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/search&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">method</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;GET&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;navbar-form navbar-left&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">                            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;form-group&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain">                                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">input</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">type</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;text&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">name</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;q&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">placeholder</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;Search...&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;form-control&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">input</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">63</span><span class="token plain">                            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">64</span><span class="token plain">                            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">button</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">type</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;submit&quot;</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;btn btn-default&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Search</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">button</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">65</span><span class="token plain">                        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">form</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">66</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">ul</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">67</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">68</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">69</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">70</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">71</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;container&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">72</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">block</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">header</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">73</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;page-header&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">74</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">My</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Django</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Blog</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">75</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">76</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endblock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">77</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">78</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;row&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">79</span><span class="token plain">                </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">block</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endblock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">80</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">81</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">82</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">83</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;container footer&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">84</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;row&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">85</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;span12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">86</span><span class="token plain">                    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Copyright</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token variable" style="color:#d7deea">copy</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">now</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Y&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">87</span><span class="token plain">                </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">88</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">89</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">90</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">91</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">src</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">92</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">jQuery</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">write</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;&lt;script src=&quot;{% static &#x27;</span><span class="token variable" style="color:#d7deea">bower_components</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">html5</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">boilerplate</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">js</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">vendor</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">jquery</span><span class="token operator" style="color:#d7deea">-</span><span class="token number" style="color:#5a9bcf">1.10</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">min</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">js</span><span class="token string" style="color:#8dc891">&#x27; %}&quot;&gt;&lt;\/script&gt;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">93</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">src</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/html5-boilerplate/js/plugins.js&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">94</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">src</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{% static &#x27;bower_components/bootstrap/dist/js/bootstrap.min.js&#x27; %}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">95</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">96</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token plain">!</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Google</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Analytics</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">change</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">UA</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">XXXXX</span><span class="token operator" style="color:#d7deea">-</span><span class="token variable" style="color:#d7deea">X</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">to</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">be</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">your</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">site</span><span class="token plain">&#x27;</span><span class="token variable" style="color:#d7deea">s</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">ID</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">97</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">98</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">o</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">i</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">e</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">r</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">GoogleAnalyticsObject</span><span class="token operator" style="color:#d7deea">=</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">|</span><span class="token operator" style="color:#d7deea">|</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">99</span><span class="token plain">            </span><span class="token function" style="color:#79b6f2">function</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">q</span><span class="token operator" style="color:#d7deea">=</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">q</span><span class="token operator" style="color:#d7deea">|</span><span class="token operator" style="color:#d7deea">|</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">push</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">arguments</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token variable" style="color:#d7deea">b</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token variable" style="color:#d7deea">l</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">l</span><span class="token operator" style="color:#d7deea">=</span><span class="token operator" style="color:#d7deea">+</span><span class="token variable" style="color:#d7deea">new</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Date</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">100</span><span class="token plain">            </span><span class="token variable" style="color:#d7deea">e</span><span class="token operator" style="color:#d7deea">=</span><span class="token variable" style="color:#d7deea">o</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">createElement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">i</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token variable" style="color:#d7deea">r</span><span class="token operator" style="color:#d7deea">=</span><span class="token variable" style="color:#d7deea">o</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">getElementsByTagName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">i</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">101</span><span class="token plain">            </span><span class="token variable" style="color:#d7deea">e</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">src</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&#x27;//www.google-analytics.com/analytics.js&#x27;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">102</span><span class="token plain">            </span><span class="token variable" style="color:#d7deea">r</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">parentNode</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">insertBefore</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">e</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">r</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token variable" style="color:#d7deea">window</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token variable" style="color:#d7deea">document</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token string" style="color:#8dc891">&#x27;script&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token string" style="color:#8dc891">&#x27;ga&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">103</span><span class="token plain">            </span><span class="token function" style="color:#79b6f2">ga</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;create&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token string" style="color:#8dc891">&#x27;UA-XXXXX-X&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token function" style="color:#79b6f2">ga</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;send&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token string" style="color:#8dc891">&#x27;pageview&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">104</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">script</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">105</span><span class="token plain">    </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">body</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">106</span><span class="token plain"></span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">html</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Now we&#x27;ll actually implement our search. Implementing search using Django&#x27;s generic views can be fiddly, so we&#x27;ll write our search view as a function instead. First, amend the imports at the top of your view file to look like this:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">shortcuts </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> get_object_or_404</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> render_to_response</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">core</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">paginator </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Paginator</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> EmptyPage</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Q</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generic </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ListView</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> blogengine</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">models </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Category</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> Tag</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">contrib</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">syndication</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">views </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Feed</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">encoding </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> force_unicode</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> django</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">safestring </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> mark_safe</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> markdown2</span></div></pre></div></pre><p class="py-2">Next, add the following code to the end of the file:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">getSearchResults</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token triple-quoted-string string" style="color:#8dc891">    Search for a post by title or text</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token triple-quoted-string string" style="color:#8dc891">    &quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Get the query data</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    query </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;q&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    page </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> request</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">GET</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;page&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Query the database</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> query</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        results </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token builtin" style="color:#D8DEE9">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Q</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">text__icontains</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">query</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> Q</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">title__icontains</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">query</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">else</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        results </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Add pagination</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">    pages </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> Paginator</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">results</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Get specified page</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">try</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        returned_page </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> pages</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">page</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">except</span><span class="token plain"> EmptyPage</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        returned_page </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> pages</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">page</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">pages</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">num_pages</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Display the search results</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> render_to_response</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;blogengine/search_post_list.html&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">                              </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token string" style="color:#8dc891">&#x27;page_obj&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> returned_page</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">                               </span><span class="token string" style="color:#8dc891">&#x27;object_list&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> returned_page</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">object_list</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">                               </span><span class="token string" style="color:#8dc891">&#x27;search&#x27;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> query</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">As this is the first time we&#x27;ve written a view without using generic views, a little explanation is called for. First we get the values of the <code>q</code> and <code>page</code> parameters passed to the view. <code>q</code> contains the query text and <code>page</code> contains the page number. Note also that our page defaults to 1 if not set.</p><p class="py-2">We then use the Q object to perform a query. The Django ORM will <code>AND</code> together keyword argument queries, but that&#x27;s not the behaviour we want here. Instead we want to be able to search for content in the title or text, so we need to use a query with an <code>OR</code> statement, which necessitates using the <a href="https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects" class="border-b-2 border-green-400">Q</a> object.</p><p class="py-2">Next, we use the <code>Paginator</code> object to manually paginate the results, and if it raises an <code>EmptyPage</code> exception, to just show the last page instead. Finally we render the template <code>blogengine/search_post_list.html</code>, and pass through the parameters <code>page_obj</code> for the returned page, <code>object_list</code> for the objects, and <code>search</code> for the query.</p><p class="py-2">We also need to add a route for our new view:</p><pre><div class="gatsby-highlight" data-language="python"><pre class="prism-code language-pythonundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token comment" style="color:#999999"># Search posts</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    url</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">r&#x27;^search&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;blogengine.views.getSearchResults&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Finally, let&#x27;s create a new template to show our results:</p><pre><div class="gatsby-highlight" data-language="django"><pre class="prism-code language-djangoundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token delimiter punctuation" style="color:#8dc891">{%</span><span class="token plain"> </span><span class="token tag keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;blogengine/includes/base.html&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">load</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">custom_markdown</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">block</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">content</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">object_list</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">object_list</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;post col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ post.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">title</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h1</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">h3</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">pub_date</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">h3</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">text</span><span class="token operator" style="color:#d7deea">|</span><span class="token filter function" style="color:#79b6f2">custom_markdown</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">category</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ post.category.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;label label-primary&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">category</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">tags</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">div</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;col-md-12&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">post</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">tags</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">all</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;{{ tag.get_absolute_url }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">span</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;label label-success&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">tag</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">span</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">div</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">            </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endfor</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">else</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">            </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">No</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">posts</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">found</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">p</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">ul</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;pager&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">page_obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">has_previous</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;previous&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/search?page={{ page_obj.previous_page_number }}&amp;q={{ search }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Previous</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Page</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">page_obj</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token variable" style="color:#d7deea">has_next</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">li</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">class</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;next&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token variable" style="color:#d7deea">a</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">href</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/search?page={{ page_obj.next_page_number }}&amp;q={{ search }}&quot;</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token variable" style="color:#d7deea">Next</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">Page</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">a</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">li</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endif</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token operator" style="color:#d7deea">/</span><span class="token variable" style="color:#d7deea">ul</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token operator" style="color:#d7deea">%</span><span class="token plain"> </span><span class="token variable" style="color:#d7deea">endblock</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">%</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Let&#x27;s run our tests:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ python manage.py </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">Creating </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">----------------------------------------------------------------------</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Ran </span><span class="token number" style="color:#5a9bcf">27</span><span class="token plain"> tests </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">6</span><span class="token plain">.421s</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">OK</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">Destroying </span><span class="token builtin class-name" style="color:#FAC863">test</span><span class="token plain"> database </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token builtin class-name" style="color:#FAC863">alias</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;default&#x27;</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain">.</span></div></pre></div></pre><p class="py-2">Don&#x27;t forget to do a quick sense check to make sure it&#x27;s all working as expected. Then it&#x27;s time to commit:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">add</span><span class="token plain"> blogengine/</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#8dc891">&#x27;Implemented search&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">And push up your changes:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bashundefined" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> push origin master</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> push heroku master</span></div></pre></div></pre><p class="py-2">And that&#x27;s the end of this instalment. Please note this particular search solution is quite basic, and if you want something more powerful, you may want to look at <a href="http://haystacksearch.org/" class="border-b-2 border-green-400">Haystack</a>.</p><p class="py-2">As usual, you can get this lesson with <code>git checkout lesson-7</code> - if you have any problems, the <a href="https://github.com/matthewbdaly/django_tutorial_blog_ng" class="border-b-2 border-green-400">repository</a> should be the first place you look for answers as this is the working code base for the application, and with judicious use of a tool like <code>diff</code>, it&#x27;s generally pretty easy to track down most issues.</p><p class="py-2">In our next, and final instalment, we&#x27;ll cover:</p><ul class="py-2 pl-4"><li class="list-disc">Tidying everything up</li><li class="list-disc">Implementing an XML sitemap for search engines</li><li class="list-disc">Optimising our site</li><li class="list-disc">Using Fabric to make deployment easier</li></ul><p class="py-2">Hope to see you then!</p></section><hr/><div class="py-4"><a class="p-category" href="/blog/categories/tdd/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">tdd</span></a><a class="p-category" href="/blog/categories/python/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">python</span></a><a class="p-category" href="/blog/categories/django/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">django</span></a><a class="p-category" href="/blog/categories/django-blog-tutorial/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">django-blog-tutorial</span></a></div><nav class="pt-4 clear-both box-border"><a rel="prev" class="float-left w-1/2 p-2 shadow-sm hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300 ease-in-out" href="/blog/2014/05/25/django-blog-tutorial-the-next-generation-part-6/"><p><strong class="font-bold clear-both">← Previous page</strong></p><p class="pl-6">Django Blog Tutorial - the Next Generation - Part 6</p></a><a rel="next" class="float-right w-1/2 p-2 shadow-sm hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300 ease-in-out" href="/blog/2014/08/31/django-blog-tutorial-the-next-generation-part-8/"><p><strong>→ Next page</strong></p><p class="pl-6">Django Blog Tutorial - the Next Generation - Part 8</p></a></nav><div id="disqus_thread"></div></article></main></div><footer class="w-full p-4 text-gray-100 bg-gray-800"><div class="flex flex-row flex-wrap justify-center w-full p-2 mx-auto text-center md:w-2/3 box-border"><a class="w-1/3 my-2 md:w-1/5" href="/posts/1">Blog</a><a class="w-1/3 my-2 md:w-1/5" href="/about">About</a><a href="https://twitter.com/mattbd" class="w-1/3 my-2 md:w-1/5">Twitter</a><a href="https://github.com/matthewbdaly" class="w-1/3 my-2 md:w-1/5">Github</a><a class="w-1/3 my-2 md:w-1/5" href="/rss.xml">Feed</a></div><div class="w-full p-4 mx-auto text-center md:w-2/3"><p>© Matthew Daly <!-- -->2021</p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-17043630-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2014/08/25/django-blog-tutorial-the-next-generation-part-7/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-31be65513fba52a5a50c.js"],"app":["/app-5e95bfecb5da57fd1ffa.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-e15fb7b4e4c3e068158e.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-a8bec21bd19e150cd447.js"],"component---src-pages-search-tsx":["/component---src-pages-search-tsx-de35131b8b54d707dd3c.js"],"component---src-templates-404-tsx":["/component---src-templates-404-tsx-1e9ca5e77d61c162fbb8.js"],"component---src-templates-archives-tsx":["/component---src-templates-archives-tsx-df7825ea34c62a098040.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-151c44ef3edeea819ec2.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-249488b5bc3e35b8519c.js"],"component---src-templates-chunk-tsx":["/component---src-templates-chunk-tsx-e37127127dfaebd5f552.js"],"component---src-templates-page-tsx":["/component---src-templates-page-tsx-43a798b7c40f1e0cff4e.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-493c03ff50c97c3525f1.js"]};/*]]>*/</script><script src="/polyfill-31be65513fba52a5a50c.js" nomodule=""></script><script src="/component---src-templates-post-tsx-493c03ff50c97c3525f1.js" async=""></script><script src="/7840d69eefded84ab93ff6e879351e9a3a16821f-3cc77dc4aa7437d407dd.js" async=""></script><script src="/15a3be27178e285ff113e12c60c30466a8f4d4c5-a83bf37446aadd700b2f.js" async=""></script><script src="/e87769ff526c098a69bffbfff9ee9d57397fcb93-0303d5ebbf1672b201f9.js" async=""></script><script src="/f0e45107-763177929e8eed3c13bb.js" async=""></script><script src="/app-5e95bfecb5da57fd1ffa.js" async=""></script><script src="/532a2f07-672258f0b4da4ed2ff53.js" async=""></script><script src="/framework-cb6229a8adb5817307a4.js" async=""></script><script src="/webpack-runtime-7a8175c78b932a870960.js" async=""></script></body></html>