<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta http-equiv="Content-Security-Policy" content="base-uri &#x27;self&#x27;; default-src &#x27;self&#x27; *.google-analytics.com disqus.com *.disqus.com *.disquscdn.com getform.io; script-src &#x27;self&#x27; localhost:* *.addthis.com *.google-analytics.com *.disquscdn.com *.disqus.com disqus.com *.addthisedge.com graph.facebook.com &#x27;unsafe-inline&#x27; &#x27;unsafe-eval&#x27;; style-src &#x27;self&#x27; fonts.googleapis.com *.addthis.com google-analytics.com *.disquscdn.com *.disqus.com &#x27;unsafe-inline&#x27;; object-src &#x27;none&#x27;; form-action &#x27;self&#x27; getform.io; font-src &#x27;self&#x27; data: fonts.google-apis.com fonts.gstatic.com; connect-src &#x27;self&#x27; ws://localhost:* *.google-analytics.com stats.g.doubleclick.net; img-src &#x27;self&#x27; *.google-analytics.com *.disquscdn.com *.disqus.com stats.g.doubleclick.net; child-src &#x27;self&#x27;; frame-src disqus.com *.addthis.com;"/><meta name="theme-color" content="#3b82f6"/><meta data-react-helmet="true" name="twitter:description" content="If, like me, you&#x27;re a web developer who sometimes also has to wear a sysadmin&#x27;s hat, then you&#x27;ll probably be coming across the same set of tasks each time you set up a new server…"/><meta data-react-helmet="true" name="twitter:title" content="An introduction to managing your servers with Ansible"/><meta data-react-helmet="true" name="twitter:creator" content="mattbd"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="If, like me, you&#x27;re a web developer who sometimes also has to wear a sysadmin&#x27;s hat, then you&#x27;ll probably be coming across the same set of tasks each time you set up a new server…"/><meta data-react-helmet="true" property="og:title" content="An introduction to managing your servers with Ansible"/><meta data-react-helmet="true" name="description" content="If, like me, you&#x27;re a web developer who sometimes also has to wear a sysadmin&#x27;s hat, then you&#x27;ll probably be coming across the same set of tasks each time you set up a new server…"/><meta name="generator" content="Gatsby 4.15.2"/><style data-href="/styles.2c84e2444e0a46017e4b.css" data-identity="gatsby-global-css">/* ! tailwindcss v3.0.24 | MIT License | https://tailwindcss.com */*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-both{clear:both}.m-0{margin:0}.mx-auto{margin-left:auto;margin-right:auto}.my-8{margin-bottom:2rem;margin-top:2rem}.my-4{margin-bottom:1rem;margin-top:1rem}.my-2{margin-bottom:.5rem;margin-top:.5rem}.mx-0{margin-left:0;margin-right:0}.mt-2{margin-top:.5rem}.-mb-8{margin-bottom:-2rem}.-mb-4{margin-bottom:-1rem}.mt-8{margin-top:2rem}.mr-8{margin-right:2rem}.mt-16{margin-top:4rem}.mr-2{margin-right:.5rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.h-2{height:.5rem}.h-4{height:1rem}.min-h-screen{min-height:100vh}.w-full{width:100%}.w-1\/3{width:33.333333%}.w-2\/3{width:66.666667%}.w-1\/2{width:50%}.w-3\/4{width:75%}.w-1\/4{width:25%}.flex-grow{flex-grow:1}.resize-none{resize:none}.list-disc{list-style-type:disc}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.justify-center{justify-content:center}.space-y-32>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(8rem*var(--tw-space-y-reverse));margin-top:calc(8rem*(1 - var(--tw-space-y-reverse)))}.space-y-16>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(4rem*var(--tw-space-y-reverse));margin-top:calc(4rem*(1 - var(--tw-space-y-reverse)))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(2rem*var(--tw-space-y-reverse));margin-top:calc(2rem*(1 - var(--tw-space-y-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.divide-gray-800>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgb(31 41 55/var(--tw-divide-opacity))}.overflow-x-auto{overflow-x:auto}.overflow-x-scroll{overflow-x:scroll}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border-2{border-width:2px}.border-b-2{border-bottom-width:2px}.border-l-8{border-left-width:8px}.border-b-4{border-bottom-width:4px}.border-green-400{--tw-border-opacity:1;border-color:rgb(74 222 128/var(--tw-border-opacity))}.border-gray-500{--tw-border-opacity:1;border-color:rgb(107 114 128/var(--tw-border-opacity))}.border-gray-800{--tw-border-opacity:1;border-color:rgb(31 41 55/var(--tw-border-opacity))}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246/var(--tw-border-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-red-200{--tw-bg-opacity:1;background-color:rgb(254 202 202/var(--tw-bg-opacity))}.bg-purple-200{--tw-bg-opacity:1;background-color:rgb(233 213 255/var(--tw-bg-opacity))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-gray-200{--tw-gradient-from:#e5e7eb;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(229,231,235,0))}.from-green-400{--tw-gradient-from:#4ade80;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(74,222,128,0))}.via-blue-500{--tw-gradient-stops:var(--tw-gradient-from),#3b82f6,var(--tw-gradient-to,rgba(59,130,246,0))}.to-gray-300{--tw-gradient-to:#d1d5db}.to-purple-500{--tw-gradient-to:#a855f7}.p-4{padding:1rem}.p-2{padding:.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-right:1rem}.pl-4,.px-4{padding-left:1rem}.pb-16{padding-bottom:4rem}.pt-4{padding-top:1rem}.pl-6{padding-left:1.5rem}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.text-sm{font-size:.875rem;line-height:1.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-xl{font-size:1.25rem}.text-lg,.text-xl{line-height:1.75rem}.text-lg{font-size:1.125rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.italic{font-style:italic}.leading-6{line-height:1.5rem}.text-gray-200{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246/var(--tw-text-opacity))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.shadow-lg,.shadow-sm{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,-webkit-text-decoration-color;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,-webkit-text-decoration-color;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-500{transition-duration:.5s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}code[class*=language-],pre[class*=language-]{display:block}.hover\:border-green-400:hover{--tw-border-opacity:1;border-color:rgb(74 222 128/var(--tw-border-opacity))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.hover\:bg-purple-800:hover{--tw-bg-opacity:1;background-color:rgb(107 33 168/var(--tw-bg-opacity))}.hover\:text-gray-200:hover{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.focus\:border-blue-300:focus{--tw-border-opacity:1;border-color:rgb(147 197 253/var(--tw-border-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}@media (prefers-color-scheme:dark){.dark\:divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgb(229 231 235/var(--tw-divide-opacity))}.dark\:border-black{--tw-border-opacity:1;border-color:rgb(0 0 0/var(--tw-border-opacity))}.dark\:bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}.dark\:bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.dark\:bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.dark\:text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219/var(--tw-text-opacity))}.dark\:text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246/var(--tw-text-opacity))}.dark\:text-gray-200{--tw-text-opacity:1;color:rgb(229 231 235/var(--tw-text-opacity))}.dark\:hover\:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity))}}@media (min-width:768px){.md\:float-none{float:none}.md\:block{display:block}.md\:w-40{width:10rem}.md\:w-2\/3{width:66.666667%}.md\:w-1\/6{width:16.666667%}}@media (min-width:1024px){.lg\:float-right{float:right}.lg\:float-left{float:left}.lg\:mt-4{margin-top:1rem}.lg\:text-left{text-align:left}}.prism-code{-webkit-overflow-scrolling:touch;background-color:transparent;border-radius:.2em;float:left;font-size:1rem;margin-bottom:1rem;margin-top:1rem;overflow:initial;padding-bottom:1rem;padding-top:1rem;position:relative}.prism-code.title{border-radius:0 0 .2em .2em}pre.prism-code{float:left;min-width:100%;overflow:initial;padding:20px}.token{display:inline-block}li>code,p>code{word-wrap:break-word;background:#011627;border-radius:.2em;color:#d6deeb;padding:.2em;white-space:pre-wrap}.gatsby-highlight{-webkit-overflow-scrolling:touch;font-size:1rem;overflow:auto;position:relative}.gatsby-highlight::-webkit-scrollbar{display:none}.gatsby-highlight>code[class*=language-],.gatsby>pre[class*=language-]{-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;overflow-wrap:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-break:normal;word-spacing:normal}.gatsby-highlight .token-line{border-left:4px solid transparent;margin-left:-20px;margin-right:-20px}.line-number-style{display:inline-block;opacity:.3;padding-left:1em;padding-right:2em;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1.2em}.gatsby-highlight .token-line.highlight-line{background-color:#023751;border-left:4px solid #029bce}.gatsby-highlight .token-line.highlight-line .line-number-style{left:0;opacity:.5;width:calc(1.2em - 4px)}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="search" type="application/opensearchdescription+xml" title="Matthew Daly" href="/opensearch.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">An introduction to managing your servers with Ansible | Matthew Daly</title><link data-react-helmet="true" href="https://matthewdaly.co.uk/blog/2016/08/10/an-introduction-to-managing-your-servers-with-ansible/" rel="canonical"/><link data-react-helmet="true" href="https://twitter.com/mattbd" rel="me"/><link data-react-helmet="true" href="https://github.com/matthewbdaly" rel="me"/><link data-react-helmet="true" href="mailto:matthew@matthewdaly.co.uk" rel="me"/><link data-react-helmet="true" href="/key.pub" rel="pgpkey"/><link data-react-helmet="true" href="https://webmention.io/matthewdaly.co.uk/xmlrpc" rel="pingback"/><link data-react-helmet="true" href="https://webmention.io/matthewdaly.co.uk/webmention" rel="webmention"/><link data-react-helmet="true" rel="authorization_endpoint" href="https://indieauth.com/auth"/><link data-react-helmet="true" rel="token_endpoint" href="https://tokens.indieauth.com/token"/><link data-react-helmet="true" rel="openid.delegate" href="https://matthewdaly.co.uk"/><link data-react-helmet="true" rel="openid.server" href="https://openid.indieauth.com/openid"/><link data-react-helmet="true" rel="alternate" type="application/rss+xml" title="Matthew Daly - feed" href="/rss.xml"/><link data-react-helmet="true" rel="alternate" type="application/atom+xml" title="Matthew Daly - feed" href="/atom.xml"/><link data-react-helmet="true" rel="alternate" type="application/feed+json" title="Matthew Daly - feed" href="/feed.json"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=53aa06cf17e4239d0dba6ffd09854e02" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=53aa06cf17e4239d0dba6ffd09854e02"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="flex flex-col min-h-screen pb-16 font-sans text-lg antialiased text-gray-800 bg-gray-50 dark:text-gray-100 dark:bg-gray-700 leading-6"><div class="w-full h-2 bg-gradient-to-r from-green-400 via-blue-500 to-purple-500"></div><nav class="w-full p-4 mx-auto lowercase md:w-2/3"><h1 class="block float-none py-4 text-4xl text-center lg:float-left lg:text-left"><a href="/">Matthew Daly</a></h1><ul class="py-2 text-center lg:float-right md:block lg:text-left"><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/blog/archives">Archives</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/about">About</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/uses">Uses</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/posts/1">Blog</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/blog/categories">Categories</a></li><li class="inline-block pr py-2 mr-8 lg:mt-4 text-sm text-gray-900 dark:text-gray-200 border-b-4 border-transparent hover:border-green-400 transition-colors duration-500"><a href="/search">Search</a></li></ul></nav><div class="w-full h-4 clear"></div><main class="flex-grow w-full p-4 mx-auto md:w-2/3"><article class="h-entry"><header><h2 class="py-4 text-2xl font-bold e-content p-name"><a class="u-url" href="https://matthewdaly.co.uk/blog/2016/08/10/an-introduction-to-managing-your-servers-with-ansible/">An introduction to managing your servers with Ansible</a></h2><p class="my-4 text-lg font-semibold">Published by <a href="/" rel="author">Matthew Daly</a> at <!-- -->10th August 2016 7:45 pm</p><time class="hidden dt-published">2016-08-10T19:45:56+00:00</time></header><section><p class="py-2">If, like me, you&#x27;re a web developer who sometimes also has to wear a sysadmin&#x27;s hat, then you&#x27;ll probably be coming across the same set of tasks each time you set up a new server. These may include:</p><ul class="py-2 pl-4"><li class="list-disc">Provisioning new servers on cloud hosting providers such as Digital Ocean</li><li class="list-disc">Setting up Cloudflare</li><li class="list-disc">Installing a web server, database and other required packages</li><li class="list-disc">Installing an existing web application, such as Wordpress</li><li class="list-disc">Configuring the firewall and Fail2ban</li><li class="list-disc">Keeping existing servers up to date</li></ul><p class="py-2">These can get tedious and repetitive fairly quickly - who genuinely wants to SSH into each server individually and run the updates regularly? Also, if done manually, there&#x27;s a danger of the setup for each server being inconsistent. Shell scripts will do this, but aren&#x27;t easy to read and not necessarily easy to adapt to different operating systems. You need a way to be able to manage multiple servers easily, maintain a series of reusable &quot;recipes&quot; and do it all in a way that&#x27;s straightforward to read - in other words, a configuration management system.</p><p class="py-2">There are others around, such as Chef, Puppet, and Salt, but my own choice is <a href="https://www.ansible.com/" class="border-b-2 border-green-400">Ansible</a>. Here&#x27;s why I went for Ansible:</p><ul class="py-2 pl-4"><li class="list-disc">Playbooks and roles are defined as YAML, making them fairly straightforward to read and understand</li><li class="list-disc">It&#x27;s written in Python, making it easy to create your own modules that leverage existing Python modules to get things done</li><li class="list-disc">It&#x27;s distributed via <code>pip</code>, making it easy to install</li><li class="list-disc">It doesn&#x27;t require you to install anything new on the servers, so you can get started straight away as soon as you can access a new server</li><li class="list-disc">It has modules for interfacing with cloud services such as Digital Ocean and Amazon Web Services</li></ul><p class="py-2">Ansible is very easy to use, but you do still need to know what is actually going on to get the best out of it. It&#x27;s intended as a convenient abstraction on top of the underlying commands, not a replacement, and you should know how to do what you want to do manually before you write an Ansible playbook to do it.</p><h2 class="py-4 text-2xl font-bold">Setting up</h2><p class="py-2">You need to have Python 2 available. Ansible doesn&#x27;t yet support Python 3 (Grr...) so if you&#x27;re using an operating system that has switched to Python 3, such as Arch Linux, you&#x27;ll need to have Python 2 installed as well. Assuming you have <code>pip</code> installed, then run this command to install it:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">sudo</span><span class="token plain"> pip </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> ansible</span></div></pre></div></pre><p class="py-2">Or for users on systems with Python 3 as the main Python:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ </span><span class="token function" style="color:#79b6f2">sudo</span><span class="token plain"> pip2 </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> ansible</span></div></pre></div></pre><p class="py-2">For Windows users, you&#x27;ll want to drop <code>sudo</code>. On Unix-like OS&#x27;s that don&#x27;t have <code>sudo</code> installed, drop it and run the command as root.</p><h2 class="py-4 text-2xl font-bold">Our first Ansible command</h2><p class="py-2">We&#x27;ll demonstrate Ansible in action with a Vagrant VM. Drop the following <code>Vagrantfile</code> into your working directory:</p><pre><div class="gatsby-highlight" data-language="ruby"><pre class="prism-code language-ruby" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token comment" style="color:#999999"># -*- mode: ruby -*-</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token comment" style="color:#999999"># vi: set ft=ruby :</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"></span><span class="token constant" style="color:#5a9bcf">VAGRANTFILE_API_VERSION</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:#8dc891">&quot;2&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">Vagrant</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">configure</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token constant" style="color:#5a9bcf">VAGRANTFILE_API_VERSION</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">do</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain">config</span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">  config</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">vm</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">box </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:#8dc891">&quot;debian/jessie64&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">  config</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">vm</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">network </span><span class="token string-literal string" style="color:#8dc891">&quot;forwarded_port&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token symbol" style="color:#5a9bcf">guest</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">80</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token symbol" style="color:#5a9bcf">host</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">8080</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">end</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Then fire up the VM:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ vagrant up</span></div></pre></div></pre><p class="py-2">This VM will be our test bed for running Ansible. If you prefer, you can use a remote server instead.</p><p class="py-2">Next, we&#x27;ll configure Ansible. Save this as <code>ansible.cfg</code>:</p><pre><div class="gatsby-highlight" data-language="conf"><pre class="prism-code language-conf" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">[defaults]</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">hostfile = inventory</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">remote_user = vagrant</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">private_key_file = .vagrant/machines/default/virtualbox/private_key</span></div></pre></div></pre><p class="py-2">In this case the remote user is <code>vagrant</code> because we&#x27;re using Vagrant, but to manage remote machines you would need to change this to the name of the account that you use on the server. The value of <code>private_key_file</code> will also normally be something like <code>/home/matthew/.ssh/id_rsa.pub</code>, but here we&#x27;re using the Vagrant-specific key.</p><p class="py-2">Note the <code>hostfile</code> entry - this points to the list of hosts you want to manage with Ansible. Let&#x27;s create this next. Save the following as <code>inventory</code>:</p><pre><div class="gatsby-highlight" data-language="conf"><pre class="prism-code language-conf" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">testserver ansible_ssh_host=127.0.0.1 ansible_ssh_port=2222</span></div></pre></div></pre><p class="py-2">Note that we explicitly need to set the port here because we&#x27;re using Vagrant. Normally it will default to port 22. A typical entry for a remote server might look like this:</p><pre><div class="gatsby-highlight" data-language="conf"><pre class="prism-code language-conf" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">example.com ansible_ssh_host=192.168.56.101</span></div></pre></div></pre><p class="py-2">Note also that we can refer to hosts by the name we give it, which can be as meaningful (or not) as you want.</p><p class="py-2">Let&#x27;s run our first command:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible all -m </span><span class="token function" style="color:#79b6f2">ping</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> SUCCESS </span><span class="token operator" style="color:#d7deea">=</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;changed&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> false,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;ping&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;pong&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">We called Ansible with the hosts set to <code>all</code>, therefore every host in the inventory was contacted. We used the <code>-m</code> flag to say we were calling a module, and then specified the <code>ping</code> module. Ansible therefore pinged each server in turn.</p><p class="py-2">We can call ad-hoc commands using the <code>-a</code> flag, as in this example:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible all -a </span><span class="token string" style="color:#8dc891">&quot;uptime&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> SUCCESS </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">rc</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&gt;&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">17</span><span class="token plain">:26:57 up </span><span class="token number" style="color:#5a9bcf">19</span><span class="token plain"> min,  </span><span class="token number" style="color:#5a9bcf">1</span><span class="token plain"> user,  load average: </span><span class="token number" style="color:#5a9bcf">0.00</span><span class="token plain">, </span><span class="token number" style="color:#5a9bcf">0.04</span><span class="token plain">, </span><span class="token number" style="color:#5a9bcf">0.13</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">This command gets the uptime for the server. If you only want to run the command on a single server, you can specify it by name:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible testserver -a </span><span class="token string" style="color:#8dc891">&quot;uptime&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> SUCCESS </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">rc</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&gt;&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">17</span><span class="token plain">:28:21 up </span><span class="token number" style="color:#5a9bcf">20</span><span class="token plain"> min,  </span><span class="token number" style="color:#5a9bcf">1</span><span class="token plain"> user,  load average: </span><span class="token number" style="color:#5a9bcf">0.02</span><span class="token plain">, </span><span class="token number" style="color:#5a9bcf">0.04</span><span class="token plain">, </span><span class="token number" style="color:#5a9bcf">0.13</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Here we specified the server as <code>testserver</code>. What about if you want to specify more than one server, but not all of them? You can create groups of servers in <code>inventory</code>, as in this example:</p><pre><div class="gatsby-highlight" data-language="conf"><pre class="prism-code language-conf" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">[webservers]</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver ansible_ssh_host=127.0.0.1 ansible_ssh_port=2222</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">example.com ansible_ssh_host=192.168.56.101</span></div></pre></div></pre><p class="py-2">You could then call the following to run the <code>uptime</code> command on all the servers in the <code>webservers</code> group:</p><pre><div class="gatsby-highlight" data-language="perl"><pre class="prism-code language-perl" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ ansible webservers </span><span class="token operator" style="color:#d7deea">-</span><span class="token plain">a </span><span class="token string" style="color:#8dc891">&#x27;uptime&#x27;</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">If you want to run the command as a different user, you can do so:</p><pre><div class="gatsby-highlight" data-language="perl"><pre class="prism-code language-perl" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ ansible webservers </span><span class="token operator" style="color:#d7deea">-</span><span class="token plain">a </span><span class="token string" style="color:#8dc891">&#x27;uptime&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-u</span><span class="token plain"> bob</span></div></pre></div></pre><p class="py-2">Note that for running <code>uptime</code> we haven&#x27;t specified the <code>-m</code> flag. This is because the <code>command</code> module is the default, but it&#x27;s very basic and doesn&#x27;t support shell variables. For more complex interactions you might need to use the <code>shell</code> module, as in this example:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible testserver -m shell -a </span><span class="token string" style="color:#8dc891">&#x27;echo $PATH&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> SUCCESS </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">rc</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&gt;&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">/usr/local/bin:/usr/bin:/bin:/usr/games</span></div></pre></div></pre><p class="py-2">For installing a package on Debian or Ubuntu, you might use the <code>apt</code> module:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible testserver -m </span><span class="token function" style="color:#79b6f2">apt</span><span class="token plain"> -a </span><span class="token string" style="color:#8dc891">&quot;name=git state=present&quot;</span><span class="token plain"> --become</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> SUCCESS </span><span class="token operator" style="color:#d7deea">=</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;cache_update_time&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;cache_updated&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> false,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;changed&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> true,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;stderr&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;stdout&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;Reading package lists...</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Building dependency tree...</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Reading state information...</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">The following extra packages will be installed:</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">  git-man liberror-perl</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Suggested packages:</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">  git-daemon-run git-daemon-sysvinit git-doc git-el git-email git-gui gitk</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">  gitweb git-arch git-cvs git-mediawiki git-svn</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">The following NEW packages will be installed:</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">  git git-man liberror-perl</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">0 upgraded, 3 newly installed, 0 to remove and 83 not upgraded.</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Need to get 4552 kB of archives.</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">After this operation, 23.5 MB of additional disk space will be used.</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Get:1 http://httpredir.debian.org/debian/ jessie/main liberror-perl all 0.17-1.1 [22.4 kB]</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Get:2 http://httpredir.debian.org/debian/ jessie/main git-man all 1:2.1.4-2.1+deb8u2 [1267 kB]</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Get:3 http://httpredir.debian.org/debian/ jessie/main git amd64 1:2.1.4-2.1+deb8u2 [3262 kB]</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Fetched 4552 kB in 1s (3004 kB/s)</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Selecting previously unselected package liberror-perl.</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">(Reading database ... </span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 5%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 10%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 15%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 20%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 25%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 30%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 35%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 40%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 45%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 50%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 55%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 60%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 65%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 70%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 75%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 80%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 85%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 90%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 95%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 100%</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string" style="color:#8dc891">(Reading database ... 32784 files and directories currently installed.)</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Preparing to unpack .../liberror-perl_0.17-1.1_all.deb ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Unpacking liberror-perl (0.17-1.1) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Selecting previously unselected package git-man.</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Preparing to unpack .../git-man_1%3a2.1.4-2.1+deb8u2_all.deb ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Unpacking git-man (1:2.1.4-2.1+deb8u2) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Selecting previously unselected package git.</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Preparing to unpack .../git_1%3a2.1.4-2.1+deb8u2_amd64.deb ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Unpacking git (1:2.1.4-2.1+deb8u2) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Processing triggers for man-db (2.7.0.2-5) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Setting up liberror-perl (0.17-1.1) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Setting up git-man (1:2.1.4-2.1+deb8u2) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">Setting up git (1:2.1.4-2.1+deb8u2) ...</span><span class="token string entity" style="color:#d7deea">\r</span><span class="token string entity" style="color:#d7deea">\n</span><span class="token string" style="color:#8dc891">&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;stdout_lines&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Reading package lists...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Building dependency tree...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Reading state information...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;The following extra packages will be installed:&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;  git-man liberror-perl&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Suggested packages:&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;  git-daemon-run git-daemon-sysvinit git-doc git-el git-email git-gui gitk&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;  gitweb git-arch git-cvs git-mediawiki git-svn&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;The following NEW packages will be installed:&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;  git git-man liberror-perl&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;0 upgraded, 3 newly installed, 0 to remove and 83 not upgraded.&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Need to get 4552 kB of archives.&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;After this operation, 23.5 MB of additional disk space will be used.&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Get:1 http://httpredir.debian.org/debian/ jessie/main liberror-perl all 0.17-1.1 [22.4 kB]&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Get:2 http://httpredir.debian.org/debian/ jessie/main git-man all 1:2.1.4-2.1+deb8u2 [1267 kB]&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Get:3 http://httpredir.debian.org/debian/ jessie/main git amd64 1:2.1.4-2.1+deb8u2 [3262 kB]&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Fetched 4552 kB in 1s (3004 kB/s)&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Selecting previously unselected package liberror-perl.&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... &quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 5%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">29</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 10%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">30</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 15%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">31</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 20%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">32</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 25%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">33</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 30%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">34</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 35%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">35</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 40%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">36</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 45%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">37</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 50%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">38</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 55%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">39</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 60%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">40</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 65%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">41</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 70%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">42</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 75%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">43</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 80%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">44</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 85%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">45</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 90%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">46</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 95%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">47</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 100%&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">48</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;(Reading database ... 32784 files and directories currently installed.)&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">49</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Preparing to unpack .../liberror-perl_0.17-1.1_all.deb ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">50</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Unpacking liberror-perl (0.17-1.1) ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">51</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Selecting previously unselected package git-man.&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">52</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Preparing to unpack .../git-man_1%3a2.1.4-2.1+deb8u2_all.deb ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">53</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Unpacking git-man (1:2.1.4-2.1+deb8u2) ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">54</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Selecting previously unselected package git.&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">55</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Preparing to unpack .../git_1%3a2.1.4-2.1+deb8u2_amd64.deb ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">56</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Unpacking git (1:2.1.4-2.1+deb8u2) ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">57</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Processing triggers for man-db (2.7.0.2-5) ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">58</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Setting up liberror-perl (0.17-1.1) ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">59</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Setting up git-man (1:2.1.4-2.1+deb8u2) ...&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">60</span><span class="token plain">        </span><span class="token string" style="color:#8dc891">&quot;Setting up git (1:2.1.4-2.1+deb8u2) ...&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">61</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">62</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Here we specify that a particular package should be <code>state=present</code> or <code>state=absent</code>. Also, note the <code>--become</code> flag, which allows us to become root. If you&#x27;re using an RPM-based Linux distro, you can use the <code>yum</code> module in the same way.</p><p class="py-2">Finally, let&#x27;s use the <code>git</code> module to check out a project on the server:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible testserver -m </span><span class="token function" style="color:#79b6f2">git</span><span class="token plain"> -a </span><span class="token string" style="color:#8dc891">&quot;repo=https://github.com/matthewbdaly/django_tutorial_blog_ng.git dest=/home/vagrant/example version=HEAD&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">testserver </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> SUCCESS </span><span class="token operator" style="color:#d7deea">=</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;after&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;3542098e3b01103db4d9cfc724ba3c71c45cb314&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;before&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> null,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;changed&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> true,</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token string" style="color:#8dc891">&quot;warnings&quot;</span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Here we check out a Git repository. We specify the repo, destination and version.</p><p class="py-2">You can call any installed Ansible module in an ad-hoc fashion in the same way. Refer to the documentation for a list of modules.</p><h2 class="py-4 text-2xl font-bold">Playbooks</h2><p class="py-2">Ad-hoc commands are useful, but they don&#x27;t offer much extra over using SSH. Playbooks allow you to define a repeatable set of commands for a particular use case. In this example, I&#x27;ll show you how to write a playbook that does the following:</p><ul class="py-2 pl-4"><li class="list-disc">Installs and configures Nginx</li><li class="list-disc">Clones the repository for my site into the web root</li></ul><p class="py-2">This is sufficiently complex to demonstrate some more of the functionality of Ansible, while also demonstrating playbooks in action.</p><p class="py-2">Create a new folder called <code>playbooks</code>, and inside it save the following as <code>sitecopy.yml</code>:</p><pre><div class="gatsby-highlight" data-language="yml"><pre class="prism-code language-yml" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">---</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Copy personal website</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token key atrule">hosts</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> testserver</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token key atrule">become</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#ff8b50;font-weight:400">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Install Nginx</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">      </span><span class="token key atrule">apt</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> name=nginx update_cache=yes</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Copy config</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">      </span><span class="token key atrule">copy</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token scalar string" style="color:#8dc891"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token scalar string" style="color:#8dc891">        src=files/nginx.conf</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token scalar string" style="color:#8dc891">        dest=/etc/nginx/sites-available/default</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Activate config</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain">      </span><span class="token key atrule">file</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token scalar string" style="color:#8dc891"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token scalar string" style="color:#8dc891">        dest=/etc/nginx/sites-enabled/default</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token scalar string" style="color:#8dc891">        src=/etc/nginx/sites-available/default</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token scalar string" style="color:#8dc891">        state=link</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Delete /var/www directory</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">      </span><span class="token key atrule">file</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token scalar string" style="color:#8dc891"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token scalar string" style="color:#8dc891">        path=/var/www</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token scalar string" style="color:#8dc891">        state=absent</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Clone repository</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain">      </span><span class="token key atrule">git</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">&gt;</span><span class="token scalar string" style="color:#8dc891"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token scalar string" style="color:#8dc891">        repo=https://github.com/matthewbdaly/matthewbdaly.github.io.git</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token scalar string" style="color:#8dc891">        dest=/var/www</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token scalar string" style="color:#8dc891">        version=HEAD</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Restart Nginx</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">      </span><span class="token key atrule">service</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> name=nginx state=restarted</span></div></pre></div></pre><p class="py-2">Note the <code>name</code> fields - these are comments that will show up in the output when each step is run. First we use the <code>apt</code> module to install Nginx, then we copy over the config file and activate it, then we empty the existing <code>/var/www</code> and clone the repository, and finally we restart Nginx.</p><p class="py-2">Also, note the following fields:</p><ul class="py-2 pl-4"><li class="list-disc"><code>hosts</code> defines the hosts affected</li><li class="list-disc"><code>become</code> specifies that the commands are run using <code>sudo</code></li></ul><p class="py-2">We also need to create the config for Nginx. Create the <code>files</code> directory under <code>playbooks</code> and save this file as <code>playbooks/files/nginx.conf</code>:</p><pre><div class="gatsby-highlight" data-language="nginx"><pre class="prism-code language-nginx" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token directive keyword" style="color:#c5a5c5">server</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain">    </span><span class="token directive keyword" style="color:#c5a5c5">listen</span><span class="token directive"> </span><span class="token directive number" style="color:#5a9bcf">80</span><span class="token directive"> default_server</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token directive keyword" style="color:#c5a5c5">listen</span><span class="token directive"> [::]:80 default_server ipv6only=on</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token directive keyword" style="color:#c5a5c5">root</span><span class="token directive"> /var/www</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token directive keyword" style="color:#c5a5c5">index</span><span class="token directive"> index.html index.htm</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token directive keyword" style="color:#c5a5c5">server_name</span><span class="token directive"> localhost</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain">    </span><span class="token directive keyword" style="color:#c5a5c5">location</span><span class="token directive"> /</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">        </span><span class="token directive keyword" style="color:#c5a5c5">try_files</span><span class="token directive"> </span><span class="token directive variable" style="color:#d7deea">$uri</span><span class="token directive"> </span><span class="token directive variable" style="color:#d7deea">$uri</span><span class="token directive">/ =404</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span></div></pre></div></pre><p class="py-2">Obviously if your Nginx config will be different, feel free to amend it as necessary. Finally, we run the playbook using the <code>ansible-playbook</code> command:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token plain">$ ansible-playbook playbooks/sitecopy.yml</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">PLAY </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Copy personal website</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> ***************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">setup</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> *******************************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">ok: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">8</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Install Nginx</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> ***********************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">9</span><span class="token plain">changed: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">11</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Copy config</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> *************************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">12</span><span class="token plain">changed: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">13</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">14</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Activate config</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> *********************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">15</span><span class="token plain">changed: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">17</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Delete /var/www directory</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> ***********************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">18</span><span class="token plain">changed: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">19</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">20</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Clone repository</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> ********************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">21</span><span class="token plain">changed: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">22</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">23</span><span class="token plain">TASK </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">Restart Nginx</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"> ***********************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">24</span><span class="token plain">changed: </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">testserver</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">25</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">26</span><span class="token plain">PLAY RECAP *********************************************************************</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">27</span><span class="token plain">testserver                 </span><span class="token builtin class-name" style="color:#FAC863">:</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">ok</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">7</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">changed</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">6</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">unreachable</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain">    </span><span class="token assign-left variable" style="color:#d7deea">failed</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">0</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">28</span><span class="token plain" style="display:inline-block">
</span></div></pre></div></pre><p class="py-2">If we had a playbook that we wanted to run on only a subset of the hosts it applied to, we could use the <code>-l</code> flag, as in this example:</p><pre><div class="gatsby-highlight" data-language="bash"><pre class="prism-code language-bash" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style"></span><span class="token plain">$ ansible-playbook playbooks/sitecopy.yml -l testserver</span></div></pre></div></pre><p class="py-2">Using these same basic concepts, you can invoke many different Ansible modules to achieve many different tasks. You can spin up new servers on supported cloud hosting companies, you can set up a known good fail2ban config, you can configure your firewall, and many more tasks. As your playbooks get bigger, it&#x27;s worth moving sections into separate roles that get invoked within multiple playbooks, in order to reduce repetition.</p><p class="py-2">Finally, I mentioned earlier that you can use Ansible to update all of your servers regularly. Here&#x27;s the playbook I use for that:</p><pre><div class="gatsby-highlight" data-language="yml"><pre class="prism-code language-yml" style="background-color:#282c34;color:#ffffff"><div class="token-line" style="color:#ffffff"><span class="line-number-style">1</span><span class="token punctuation" style="color:#8dc891">---</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">2</span><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> Update system</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token key atrule">hosts</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> all</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token key atrule">become</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#ff8b50;font-weight:400">True</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token key atrule">tasks</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> update system</span></div><div class="token-line" style="color:#ffffff"><span class="line-number-style">7</span><span class="token plain">      </span><span class="token key atrule">apt</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> upgrade=full update_cache=yes</span></div></pre></div></pre><p class="py-2">This connects to all hosts using the <code>all</code> shortcut we saw earlier, and upgrades all existing packages. Using this method is a lot easier than connecting to each one in turn via SSH and updating it manually.</p><h2 class="py-4 text-2xl font-bold">Summary</h2><p class="py-2">Ansible is an extremely useful tool for managing servers, but to get the most out of it you have to put in a fair bit of work reading the <a href="https://docs.ansible.com/" class="border-b-2 border-green-400">documentation</a> and writing your own playbooks for your own use cases. It&#x27;s simple to get started with, and if you&#x27;re willing to put in the time writing your own playbooks then in the long run you&#x27;ll save yourself a lot of time and grief by making it easy to set up new servers and administer existing ones. Hopefully this has given you a taster of what you can do with Ansible - from here on the documentation is worth a look as it lists all of the modules that ship with Ansible. If there&#x27;s a particular task you dread, such as setting up a mail server, then Ansible is a very good way to automate that away so it&#x27;s easier next time.</p><p class="py-2">My experience is that it&#x27;s best to make an effort to try to standardise on two or three different stacks for different purposes, and create Ansible playbooks for those stacks. For instance, I&#x27;ve tended to use PHP 5, Apache, MySQL, Memcached and Varnish for Wordpress sites, and PHP 7, Nginx, Redis and PostgreSQL for Laravel sites. That way I know that any sites I build with Laravel will be using that stack. Knowing my servers are more consistent makes it easier to work with them and identify problems.</p></section><hr/><div class="py-4"><a class="p-category" href="/blog/categories/ansible/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">ansible</span></a><a class="p-category" href="/blog/categories/sysadmin/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">sysadmin</span></a><a class="p-category" href="/blog/categories/python/"><span class="inline-block px-4 py-2 my-2 mr-2 text-sm font-bold text-gray-900 bg-purple-200 rounded-full hover:bg-purple-800 hover:text-gray-200 transition-colors duration-500">python</span></a></div><nav class="pt-4 clear-both box-border"><a rel="prev" class="float-left w-1/2 p-2 shadow-sm hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300 ease-in-out" href="/blog/2016/08/08/testing-your-api-documentation-with-dredd/"><p><strong class="font-bold clear-both">← Previous page</strong></p><p class="pl-6">Testing your API documentation with Dredd</p></a><a rel="next" class="float-right w-1/2 p-2 shadow-sm hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300 ease-in-out" href="/blog/2016/08/15/creating-a-personal-dashboard-with-react-and-webpack/"><p><strong>→ Next page</strong></p><p class="pl-6">Creating a personal dashboard with React and Webpack</p></a></nav><div id="disqus_thread"></div></article></main></div><footer class="w-full p-4 text-gray-100 bg-gray-800"><ul class="flex flex-row flex-wrap justify-center w-full p-2 mx-auto text-center md:w-2/3 box-border"><li class="w-1/3 my-2 md:w-1/6"><a href="/posts/1">Blog</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="/about">About</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="/contact">Contact</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="https://twitter.com/mattbd">Twitter</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="https://github.com/matthewbdaly">Github</a></li><li class="w-1/3 my-2 md:w-1/6"><a href="/rss.xml">Feed</a></li></ul><div class="w-full p-4 mx-auto text-center md:w-2/3"><p>© Matthew Daly <!-- -->2022</p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-17043630-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2016/08/10/an-introduction-to-managing-your-servers-with-ansible/";window.___webpackCompilationHash="8ed6876b597643e84f28";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-11649d7082f91630a0f4.js"],"app":["/app-70d9172bf3fd43cbd65e.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-d99355bfc088afa60212.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-169644fc881f7665c17b.js"],"component---src-pages-search-tsx":["/component---src-pages-search-tsx-e93b9d2a4bf1d8518f68.js"],"component---src-templates-404-tsx":["/component---src-templates-404-tsx-dfb519f1975b2c946385.js"],"component---src-templates-archives-tsx":["/component---src-templates-archives-tsx-ad260b9de714fbd082c5.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-16c09be8d2349317ecb1.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-fe151db2072467694c26.js"],"component---src-templates-chunk-tsx":["/component---src-templates-chunk-tsx-0e1de4fb0a7a9892ad42.js"],"component---src-templates-page-tsx":["/component---src-templates-page-tsx-7ee548ca51f8a3aeb208.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-e3ea1ed864b32aa82cfe.js"]};/*]]>*/</script><script src="/polyfill-11649d7082f91630a0f4.js" nomodule=""></script><script src="/app-70d9172bf3fd43cbd65e.js" async=""></script><script src="/framework-a6e7e2d9b047634414ab.js" async=""></script><script src="/webpack-runtime-54c97741794d5be10c22.js" async=""></script></body></html>